=== FILE TREE ===
my-abiturient/
‚îî‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ app/
    ‚îî‚îÄ‚îÄ curator/
        ‚îî‚îÄ‚îÄ admin/
            ‚îî‚îÄ‚îÄ countries/
                ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ dashboard/
            ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ layout.tsx
        ‚îî‚îÄ‚îÄ review/
            ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ student/
            ‚îî‚îÄ‚îÄ [studentId]/
                ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ students/
            ‚îî‚îÄ‚îÄ AddStudentModal.tsx
            ‚îî‚îÄ‚îÄ page.tsx
    ‚îî‚îÄ‚îÄ globals.css
    ‚îî‚îÄ‚îÄ layout.tsx
    ‚îî‚îÄ‚îÄ login/
        ‚îî‚îÄ‚îÄ page.tsx
    ‚îî‚îÄ‚îÄ page.tsx
    ‚îî‚îÄ‚îÄ shared/
        ‚îî‚îÄ‚îÄ AuthContext.tsx
        ‚îî‚îÄ‚îÄ CountryContext.tsx
        ‚îî‚îÄ‚îÄ CountrySwitcher.tsx
        ‚îî‚îÄ‚îÄ Notifications.tsx
        ‚îî‚îÄ‚îÄ ProgressContext.tsx
        ‚îî‚îÄ‚îÄ Sidebar.tsx
    ‚îî‚îÄ‚îÄ student/
        ‚îî‚îÄ‚îÄ dashboard/
            ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ folder/
            ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ kanban/
            ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ layout.tsx
        ‚îî‚îÄ‚îÄ programs/
            ‚îî‚îÄ‚îÄ ProgramDetailModal.tsx
            ‚îî‚îÄ‚îÄ page.tsx
        ‚îî‚îÄ‚îÄ quests/
            ‚îî‚îÄ‚îÄ QuestDetailModal.tsx
            ‚îî‚îÄ‚îÄ page.tsx
‚îî‚îÄ‚îÄ c.py
‚îî‚îÄ‚îÄ eslint.config.mjs
‚îî‚îÄ‚îÄ mock/
    ‚îî‚îÄ‚îÄ countries.json
    ‚îî‚îÄ‚îÄ document_templates.json
    ‚îî‚îÄ‚îÄ programs.json
    ‚îî‚îÄ‚îÄ quest_templates.json
    ‚îî‚îÄ‚îÄ student_progress.json
    ‚îî‚îÄ‚îÄ students.json
    ‚îî‚îÄ‚îÄ universities.json
    ‚îî‚îÄ‚îÄ university_profiles.json
‚îî‚îÄ‚îÄ next-env.d.ts
‚îî‚îÄ‚îÄ next.config.ts
‚îî‚îÄ‚îÄ p.py
‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ postcss.config.mjs
‚îî‚îÄ‚îÄ project_snapshot.txt
‚îî‚îÄ‚îÄ public/
‚îî‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ tsconfig.tsbuildinfo
‚îî‚îÄ‚îÄ tz.md

=== CODE SNAPSHOT (libraries/build/lock files excluded) ===

--- BEGIN FILE: .gitignore ---
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
--- END FILE: .gitignore ---

--- BEGIN FILE: README.md ---
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
--- END FILE: README.md ---

--- BEGIN FILE: app/curator/admin/countries/page.tsx ---
"use client";
import { useEffect, useMemo, useState } from "react";
import baseCountries from "@/mock/countries.json";
import docs from "@/mock/document_templates.json";
import quests from "@/mock/quest_templates.json";
import type { CountryProfile } from "@/app/shared/CountryContext";

export default function CountriesConfigurator() {
  const [countries, setCountries] = useState<CountryProfile[]>(baseCountries as CountryProfile[]);
  const [currentId, setCurrentId] = useState<string>(countries[0]?.id || "at");
  const current = useMemo(() => countries.find((c) => c.id === currentId), [countries, currentId]);

  useEffect(() => {
    try {
      const raw = localStorage.getItem("countriesOverride");
      if (raw) {
        const parsed = JSON.parse(raw);
        if (Array.isArray(parsed)) {
          setCountries(parsed);
          if (parsed[0]?.id) setCurrentId(parsed[0].id);
        }
      }
    } catch {}
  }, []);

  const save = () => {
    localStorage.setItem("countriesOverride", JSON.stringify(countries));
    alert("–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ (mock). –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.");
  };

  const addCountry = () => {
    const id = prompt("ID —Å—Ç—Ä–∞–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, de):");
    const name = prompt("–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã:");
    if (!id || !name) return;
    setCountries((prev) => [
      ...prev,
      { id, name, flag_icon: "üè≥Ô∏è", required_document_ids: [], required_quest_ids: [] },
    ]);
    setCurrentId(id);
  };

  const toggleId = (arr: number[], id: number, on: boolean) =>
    on ? Array.from(new Set([...arr, id])) : arr.filter((x) => x !== id);

  const setDoc = (id: number, on: boolean) => {
    if (!current) return;
    setCountries((prev) =>
      prev.map((c) =>
        c.id === current.id ? { ...c, required_document_ids: toggleId(c.required_document_ids, id, on) } : c
      )
    );
  };
  const setQuest = (id: number, on: boolean) => {
    if (!current) return;
    setCountries((prev) =>
      prev.map((c) =>
        c.id === current.id ? { ...c, required_quest_ids: toggleId(c.required_quest_ids, id, on) } : c
      )
    );
  };

  return (
    <div>
      <div className="mb-4">
        <h1 className="text-2xl font-semibold">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –°—Ç—Ä–∞–Ω</h1>
        <p className="text-zinc-600 dark:text-zinc-300">
          –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω—ã. –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage (mock).
        </p>
      </div>
      <div className="grid sm:grid-cols-[18rem_1fr] gap-6">
        <aside className="card p-3">
          <div className="flex items-center justify-between mb-2">
            <div className="font-medium">–°—Ç—Ä–∞–Ω—ã</div>
            <button className="btn btn-primary" onClick={addCountry}>+ –î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
          <ul className="space-y-1">
            {countries.map((c) => (
              <li key={c.id}>
                <button
                  className={`w-full text-left px-3 py-2 rounded-lg ${
                    c.id === currentId ? "bg-black text-white dark:bg-white dark:text-black" : "hover:bg-black/5 dark:hover:bg-white/10"
                  }`}
                  onClick={() => setCurrentId(c.id)}
                >
                  {c.flag_icon} {c.name} <span className="text-xs opacity-60">({c.id})</span>
                </button>
              </li>
            ))}
          </ul>
        </aside>
        <div>
          {!current ? (
            <div>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É</div>
          ) : (
            <>
              <div className="mb-4">
                <div className="text-sm text-zinc-500">–†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è</div>
                <div className="text-xl font-semibold">{current.flag_icon} {current.name}</div>
              </div>
              <div className="grid md:grid-cols-2 gap-6">
                <section>
                  <h2 className="font-semibold mb-2">–¢—Ä–µ–±—É–µ–º—ã–µ –î–æ–∫—É–º–µ–Ω—Ç—ã</h2>
                  <div className="h-[360px] overflow-auto border rounded-xl p-3">
                    {docs.map((d) => {
                      const on = current.required_document_ids.includes(d.id);
                      return (
                        <label key={d.id} className="flex items-center gap-3 py-1">
                          <input type="checkbox" checked={on} onChange={(e) => setDoc(d.id, e.target.checked)} />
                          <span className="text-sm">{d.category} ‚Äî {d.title} <span className="text-xs text-zinc-500">#{d.id}</span></span>
                        </label>
                      );
                    })}
                  </div>
                </section>
                <section>
                  <h2 className="font-semibold mb-2">–¢—Ä–µ–±—É–µ–º—ã–µ –ö–≤–µ—Å—Ç—ã</h2>
                  <div className="h-[360px] overflow-auto border rounded-xl p-3">
                    {quests.map((q) => {
                      const on = current.required_quest_ids.includes(q.id);
                      return (
                        <label key={q.id} className="flex items-center gap-3 py-1">
                          <input type="checkbox" checked={on} onChange={(e) => setQuest(q.id, e.target.checked)} />
                          <span className="text-sm">{q.stage} ‚Äî {q.title} <span className="text-xs text-zinc-500">#{q.id}</span></span>
                        </label>
                      );
                    })}
                  </div>
                </section>
              </div>
              <div className="mt-6">
                <button className="btn btn-primary" onClick={save}>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
              </div>
            </>
          )}
        </div>
      </div>
    </div>
  );
}
--- END FILE: app/curator/admin/countries/page.tsx ---

--- BEGIN FILE: app/curator/dashboard/page.tsx ---
"use client";
import Link from "next/link";
import allStudents from "@/mock/students.json";
import allProgress from "@/mock/student_progress.json";
import allQuests from "@/mock/quest_templates.json";
import allCountries from "@/mock/countries.json";
import { useMemo } from "react";

type StudentProgress = { [key: number]: { status: string } };

export default function CuratorDashboard() {

  const studentData = useMemo(() => {
    return allStudents.map(student => {
      const country = allCountries.find(c => c.id === student.country_id);
      if (!country) return { ...student, totalQuests: 0, completedQuests: 0, progressPercentage: 0, alerts: [], flag: '', countryName: '' };

      const requiredQuests = new Set(country.required_quest_ids);
      const studentProgress: StudentProgress = (allProgress as any)[student.id] || {};

      const completedQuests = Object.keys(studentProgress)
        .map(Number)
        .filter(questId => requiredQuests.has(questId) && studentProgress[questId].status === 'done');

      const onReviewQuests = Object.keys(studentProgress)
        .map(Number)
        .filter(questId => requiredQuests.has(questId) && studentProgress[questId].status === 'review');

      const progressPercentage = requiredQuests.size > 0 ? (completedQuests.length / requiredQuests.size) * 100 : 0;

      // –§–æ—Ä–º–∏—Ä—É–µ–º "–∫—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏"
      const alerts = [];
      if (onReviewQuests.length > 0) {
        alerts.push({ type: 'review', text: `–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ: ${onReviewQuests.length} –∫–≤–µ—Å—Ç–∞` });
      }
      if (progressPercentage < 30) {
        alerts.push({ type: 'warning', text: '–ù–∏–∑–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å' });
      }

      return {
        ...student,
        countryName: country.name,
        flag: country.flag_icon,
        totalQuests: requiredQuests.size,
        completedQuests: completedQuests.length,
        progressPercentage,
        alerts
      };
    });
  }, []);

  return (
    <div>
      <h1 className="text-2xl font-semibold">–ü–∞–Ω–µ–ª—å –°—Ç—É–¥–µ–Ω—Ç–æ–≤</h1>
      <p className="text-zinc-600 dark:text-zinc-300 mb-6">–û–±–∑–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.</p>

      <div className="space-y-4">
        {studentData.map(student => (
          <Link key={student.id} href={`/curator/student/${student.id}`} className="card block p-4 hover:bg-black/5 dark:hover:bg-white/5 transition">
            <div className="flex items-center justify-between">
              <div>
                <div className="font-semibold">{student.name}</div>
                <div className="text-sm text-zinc-500">{student.flag} {student.countryName}</div>
              </div>
              <div className="flex items-center gap-4">
                <div className="text-right">
                  <div className="font-medium text-sm">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
                  <div className="text-xs text-zinc-500">{student.completedQuests} / {student.totalQuests} –∫–≤–µ—Å—Ç–æ–≤</div>
                </div>
                <div className="w-24">
                  <div className="w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2">
                    <div className="bg-blue-600 h-2 rounded-full" style={{ width: `${student.progressPercentage}%` }}></div>
                  </div>
                </div>
              </div>
            </div>
            {student.alerts.length > 0 && (
              <div className="mt-3 flex items-center gap-2 border-t pt-2">
                {student.alerts.map((alert, index) => (
                  <span key={index} className={`text-xs px-2 py-1 rounded-full ${alert.type === 'review' ? 'bg-yellow-500/10 text-yellow-700' : 'bg-red-500/10 text-red-700'}`}>
                    {alert.text}
                  </span>
                ))}
              </div>
            )}
          </Link>
        ))}
      </div>
    </div>
  );
}
--- END FILE: app/curator/dashboard/page.tsx ---

--- BEGIN FILE: app/curator/layout.tsx ---
"use client";
import "../globals.css";
import { useAuth } from "../shared/AuthContext";
import Sidebar from "../shared/Sidebar";
import { useRouter } from "next/navigation";
import { useEffect } from "react";

export default function CuratorLayout({ children }: { children: React.ReactNode }) {
  const { user, loading } = useAuth();
  const router = useRouter();

  useEffect(() => {
    if (!loading && (!user || user.role !== "curator")) {
      router.replace("/login");
    }
  }, [user, loading, router]);

  if (loading || !user) return <div className="min-h-screen bg-zinc-50 dark:bg-black flex items-center justify-center">–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞...</div>;

  return (
    <div className="min-h-screen bg-zinc-50 dark:bg-black">
      <div className="container py-6">
        <div className="grid grid-cols-1 sm:grid-cols-[16rem_1fr] gap-6">
          <Sidebar />
          <main className="card p-4">{children}</main>
        </div>
      </div>
    </div>
  );
}
--- END FILE: app/curator/layout.tsx ---

--- BEGIN FILE: app/curator/review/page.tsx ---
"use client";
import { useCountry } from "@/app/shared/CountryContext";
import { useProgress } from "@/app/shared/ProgressContext";
import { useMemo, useState } from "react";

type CommentState = Record<number, string>;

// --- –ù–û–í–û–ï: –ò–∫–æ–Ω–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É" ---
const RefreshIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
    <path strokeLinecap="round" strokeLinejoin="round" d="M4 4v5h5M20 20v-5h-5M4 4l1.5 1.5A9 9 0 0120.5 10M20 20l-1.5-1.5A9 9 0 003.5 14" />
  </svg>
);

// --- –ù–û–í–û–ï: –•–µ–ª–ø–µ—Ä –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞ ---
const isFileName = (submission: any): boolean => {
  if (typeof submission !== 'string') return false;
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
  return /\.(pdf|jpg|jpeg|png|doc|docx)$/i.test(submission);
};

export default function ReviewPage() {
  const { quests } = useCountry();
  const { progress, approveQuest, requestChanges } = useProgress();
  const [comments, setComments] = useState<CommentState>({});

  const questsForReview = useMemo(() => {
    return Object.keys(progress)
      .map(Number)
      .filter(questId => progress[questId].status === 'review')
      .map(questId => quests.find(q => q.id === questId))
      .filter(Boolean); // –æ—Ç—Å–µ–∏–≤–∞–µ–º undefined, –µ—Å–ª–∏ –∫–≤–µ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
  }, [progress, quests]);

  const handleCommentChange = (questId: number, text: string) => {
    setComments(prev => ({ ...prev, [questId]: text }));
  };

  const handleRequestChanges = (questId: number) => {
    const comment = comments[questId];
    if (!comment) {
      alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞.");
      return;
    }
    requestChanges(questId, comment);
    setComments(prev => {
      const updated = { ...prev };
      delete updated[questId];
      return updated;
    });
  };

  return (
    <div>
      <div className="mb-6">
        <h1 className="text-2xl font-semibold">–†–µ–≤—å—é –ó–∞–¥–∞—á</h1>
        <p className="text-zinc-600 dark:text-zinc-300">
          –ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–¥–∞—á–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –æ–∂–∏–¥–∞—é—â–∏–µ –≤–∞—à–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.
        </p>
      </div>

      {questsForReview.length === 0 ? (
        <div className="text-center py-12">
          <div className="text-4xl mb-3">üéâ</div>
          <h3 className="font-semibold">–í—Å–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã</h3>
          <p className="text-sm text-zinc-500">–ù–æ–≤—ã—Ö –∑–∞–¥–∞—á –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–∫–∞ –Ω–µ—Ç.</p>
        </div>
      ) : (
        <div className="space-y-6">
          {questsForReview.map(quest => {
            if (!quest) return null;
            const submission = progress[quest.id]?.submission;
            return (
              <div key={quest.id} className="card p-5 bg-zinc-800/50 border border-zinc-700/50">
                <h3 className="font-semibold text-lg">{quest.title}</h3>
                <div className="text-xs text-zinc-400 mb-4">
                  {/* –í –±—É–¥—É—â–µ–º –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∏–º—è —Å—Ç—É–¥–µ–Ω—Ç–∞ */}
                  –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: –°—Ç—É–¥–µ–Ω—Ç 1
                </div>

                <div className="bg-zinc-900 rounded-lg p-3 text-sm mb-4">
                  <p className="font-medium text-zinc-400 mb-2">–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</p>
                  {isFileName(submission) ? (
                    <div className="flex items-center justify-between">
                        <span className="text-xs break-words font-mono text-zinc-300">{String(submission)}</span>
                        <div className="flex gap-3 shrink-0 ml-4">
                            <button onClick={() => alert(`–°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞: ${submission}`)} className="text-xs text-blue-400 hover:underline">–û—Ç–∫—Ä—ã—Ç—å</button>
                            <button onClick={() => alert(`–°–∏–º—É–ª—è—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞: ${submission}`)} className="text-xs text-blue-400 hover:underline">–°–∫–∞—á–∞—Ç—å</button>
                        </div>
                    </div>
                  ) : typeof submission === 'object' ? (
                    <pre className="text-xs whitespace-pre-wrap font-mono text-zinc-300"><code>{JSON.stringify(submission, null, 2)}</code></pre>
                  ) : (
                    <p className="text-xs break-words font-mono text-zinc-300">{String(submission)}</p>
                  )}
                </div>

                <div>
                  <label className="text-sm font-medium text-zinc-400">
                    –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
                  </label>
                  <textarea
                    value={comments[quest.id] || ""}
                    onChange={(e) => handleCommentChange(quest.id, e.target.value)}
                    className="w-full mt-2 rounded-xl border border-zinc-700 p-3 text-sm bg-zinc-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                    rows={3}
                    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫–∞–Ω –≤ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏."
                  />
                </div>

                <div className="flex items-center gap-4 mt-4">
                  <button
                    className="flex-1 btn bg-white text-black font-semibold hover:bg-zinc-200 flex items-center justify-center gap-2"
                    onClick={() => approveQuest(quest.id)}
                  >
                    <span className="text-green-500">‚úÖ</span> –û–¥–æ–±—Ä–∏—Ç—å
                  </button>
                  <button
                    className="flex-1 btn border border-amber-500/50 text-amber-400 font-semibold hover:bg-amber-500/10 flex items-center justify-center gap-2"
                    onClick={() => handleRequestChanges(quest.id)}
                  >
                    <RefreshIcon /> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É
                  </button>
                </div>
              </div>
            );
          })}
        </div>
      )}
    </div>
  );
}
--- END FILE: app/curator/review/page.tsx ---

--- BEGIN FILE: app/curator/student/[studentId]/page.tsx ---
"use client";
import { useMemo } from "react";
import { useParams } from "next/navigation";
import allStudents from "@/mock/students.json";
import allCountries from "@/mock/countries.json";
import allProgress from "@/mock/student_progress.json";
import allQuests from "@/mock/quest_templates.json";

export default function StudentDossierPage() {
  const params = useParams();
  const studentId = Number(params.studentId);

  const student = useMemo(() => allStudents.find(s => s.id === studentId), [studentId]);
  const country = useMemo(() => allCountries.find(c => c.id === student?.country_id), [student]);
  const progress = useMemo(() => (allProgress as any)[studentId] || {}, [studentId]);

  if (!student || !country) {
    return <div>–°—Ç—É–¥–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.</div>;
  }

  const requiredQuests = allQuests.filter(q => country.required_quest_ids.includes(q.id));

  const approveQuest = (questId: number) => {
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ API
    alert(`(Mock) –ö–≤–µ—Å—Ç #${questId} –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞ ${student.name} –æ–¥–æ–±—Ä–µ–Ω.`);
  };

  const rejectQuest = (questId: number) => {
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ API
    const reason = prompt(`–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞ #${questId}:`);
    alert(`(Mock) –ö–≤–µ—Å—Ç #${questId} –æ—Ç–∫–ª–æ–Ω–µ–Ω. –ü—Ä–∏—á–∏–Ω–∞: ${reason}`);
  };

  return (
    <div>
      <div className="mb-6">
        <h1 className="text-2xl font-semibold">{student.name}</h1>
        <p className="text-zinc-500">–î–æ—Å—å–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ | –û–ø–µ—Ä–∞—Ü–∏—è: {country.flag_icon} {country.name}</p>
      </div>

      <div className="grid lg:grid-cols-3 gap-6">
        <section className="lg:col-span-2 card p-4">
          <h2 className="text-lg font-semibold mb-3">–¢—Ä–µ–∫–µ—Ä –ö–≤–µ—Å—Ç–æ–≤</h2>
          <div className="space-y-3 max-h-[600px] overflow-y-auto pr-2">
            {requiredQuests.map(quest => {
              const questProgress = progress[quest.id];
              const status = questProgress?.status || 'todo';

              return (
                <div key={quest.id} className="p-3 rounded-xl border bg-zinc-50 dark:bg-zinc-800/50">
                  <div className="flex items-center justify-between">
                    <span className="font-medium text-sm">{quest.title}</span>
                    {status === 'done' && <span className="text-xs px-2 py-1 rounded-full bg-green-500/10 text-green-600">–û–¥–æ–±—Ä–µ–Ω ‚úÖ</span>}
                    {status === 'review' && <span className="text-xs px-2 py-1 rounded-full bg-yellow-500/10 text-yellow-700">–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ ‚è≥</span>}
                    {status === 'todo' && <span className="text-xs px-2 py-1 rounded-full bg-zinc-500/10 text-zinc-500">–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω</span>}
                  </div>
                  {questProgress?.submission && (
                    <div className="mt-2 text-xs border-t pt-2 text-zinc-500">
                      <p><b>–†–µ–∑—É–ª—å—Ç–∞—Ç:</b> {typeof questProgress.submission === 'object' ? JSON.stringify(questProgress.submission) : questProgress.submission}</p>
                    </div>
                  )}
                  {status === 'review' && (
                    <div className="mt-3 flex items-center gap-2">
                      <button onClick={() => approveQuest(quest.id)} className="btn btn-primary text-xs !py-1">–û–¥–æ–±—Ä–∏—Ç—å</button>
                      <button onClick={() => rejectQuest(quest.id)} className="btn text-xs !py-1 bg-red-500/10 text-red-600">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                    </div>
                  )}
                </div>
              );
            })}
          </div>
        </section>

        <aside className="space-y-6">
          <div className="card p-4">
            <h2 className="text-lg font-semibold mb-3">–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –ü—Ä–æ—Ñ–∏–ª—å</h2>
            <ul className="text-sm space-y-2">
              <li><b>Email:</b> {student.email}</li>
              <li><b>GPA:</b> {student.gpa}</li>
              <li><b>IELTS:</b> {student.ielts_score}</li>
            </ul>
          </div>
          <div className="card p-4">
             <h2 className="text-lg font-semibold mb-3">–í—ã–±—Ä–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã</h2>
             <ul className="text-sm space-y-1 list-disc list-inside">
                {student.selected_program_ids.map(id => <li key={id}>–ü—Ä–æ–≥—Ä–∞–º–º–∞ #{id}</li>)}
             </ul>
          </div>
        </aside>
      </div>
    </div>
  );
}
--- END FILE: app/curator/student/[studentId]/page.tsx ---

--- BEGIN FILE: app/curator/students/AddStudentModal.tsx ---
"use client";
import { useCountry } from "@/app/shared/CountryContext";
import { useMemo, useState } from "react";
import type { Student } from "./page";

type Props = {
  onClose: () => void;
  onSave: (data: Omit<Student, 'id'>) => void;
};

export default function AddStudentModal({ onClose, onSave }: Props) {
  const { countries, universities, quests } = useCountry();

  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
  const [currentStep, setCurrentStep] = useState(1);
  const [studentName, setStudentName] = useState("");
  const [selectedCountryId, setSelectedCountryId] = useState(countries[0]?.id || "");
  const [selectedUniversityIds, setSelectedUniversityIds] = useState<string[]>([]);
  const [selectedQuestIds, setSelectedQuestIds] = useState<number[]>([]);
  // --- –ù–û–í–û–ï: –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∑–∞–¥–∞—á ---
  const [customQuests, setCustomQuests] = useState<{ id: number; title: string }[]>([]);
  const [newCustomQuestTitle, setNewCustomQuestTitle] = useState("");

  // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–≤–µ—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã
  const availableQuests = useMemo(() => {
    const country = countries.find(c => c.id === selectedCountryId);
    if (!country) return [];
    const requiredIds = new Set(country.required_quest_ids);
    return quests.filter(q => requiredIds.has(q.id));
  }, [selectedCountryId, countries, quests]);

  // --- –ù–û–í–û–ï: –õ–æ–≥–∏–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∑–∞–¥–∞—á ---
  const handleAddCustomQuest = () => {
    if (!newCustomQuestTitle.trim()) return;
    const newId = -Date.now(); // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π ID
    const newQuest = { id: newId, title: newCustomQuestTitle.trim() };

    setCustomQuests(prev => [...prev, newQuest]);
    setSelectedQuestIds(prev => [...prev, newId]); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
    setNewCustomQuestTitle(""); // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
  };

  const handleRemoveCustomQuest = (idToRemove: number) => {
    setCustomQuests(prev => prev.filter(q => q.id !== idToRemove));
    setSelectedQuestIds(prev => prev.filter(id => id !== idToRemove));
  };

  const handleNext = () => {
    if (currentStep === 1 && !studentName) {
      alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è —Å—Ç—É–¥–µ–Ω—Ç–∞.");
      return;
    }
    setCurrentStep(prev => prev + 1);
  };

  const handleBack = () => setCurrentStep(prev => prev - 1);

  const handleSave = () => {
    onSave({
      name: studentName,
      countryId: selectedCountryId,
      assignedUniversityIds: selectedUniversityIds,
      assignedQuestIds: selectedQuestIds,
      customQuests: customQuests,
    });
  };

  // --- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ ---

  const renderStepOne = () => (
    <div>
      <h3 className="text-lg font-semibold mb-4">–®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
      <div className="space-y-4">
        <div>
          <label className="text-sm">–ò–º—è –∏ –§–∞–º–∏–ª–∏—è</label>
          <input type="text" value={studentName} onChange={e => setStudentName(e.target.value)} className="w-full mt-1 rounded-xl border p-2 bg-white dark:bg-zinc-800" />
        </div>
        <div>
          <label className="text-sm">–°—Ç—Ä–∞–Ω–∞ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</label>
          <select value={selectedCountryId} onChange={e => setSelectedCountryId(e.target.value)} className="w-full mt-1 rounded-xl border p-2 bg-white dark:bg-zinc-800">
            {countries.map(c => <option key={c.id} value={c.id}>{c.flag_icon} {c.name}</option>)}
          </select>
        </div>
      </div>
    </div>
  );

  const renderStepTwo = () => (
    <div>
      <h3 className="text-lg font-semibold mb-4">–®–∞–≥ 2: –í—ã–±–æ—Ä —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤</h3>
      <div className="max-h-64 overflow-y-auto space-y-2 pr-2">
        {universities.map(uni => (
          <label key={uni.id} className="flex items-center gap-3 p-2 rounded-lg hover:bg-white/10 cursor-pointer">
            <input
              type="checkbox"
              checked={selectedUniversityIds.includes(uni.id)}
              onChange={() => {
                setSelectedUniversityIds(prev =>
                  prev.includes(uni.id) ? prev.filter(id => id !== uni.id) : [...prev, uni.id]
                );
              }}
            />
            <span>{uni.logo_url} {uni.name}</span>
          </label>
        ))}
      </div>
    </div>
  );

  const renderStepThree = () => (
    <div>
      <h3 className="text-lg font-semibold mb-4">–®–∞–≥ 3: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞—á</h3>
      <p className="text-xs text-zinc-400 mb-2">–û—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –∑–∞–¥–∞—á–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω—ã: {countries.find(c => c.id === selectedCountryId)?.name}</p>
      <div className="max-h-64 overflow-y-auto space-y-2 pr-2">
        {availableQuests.map(quest => (
          <label key={quest.id} className="flex items-center gap-3 p-2 rounded-lg hover:bg-white/10 cursor-pointer">
             <input
              type="checkbox"
              checked={selectedQuestIds.includes(quest.id)}
              onChange={() => {
                setSelectedQuestIds(prev =>
                  prev.includes(quest.id) ? prev.filter(id => id !== quest.id) : [...prev, quest.id]
                );
              }}
            />
            <span className="text-sm">{quest.title}</span>
          </label>
        ))}
      </div>
      {/* --- –ù–û–í–û–ï: –ë–ª–æ–∫ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–∏—Ö –∑–∞–¥–∞—á --- */}
      <div className="border-t border-white/10 pt-4 mt-4">
        <h4 className="font-semibold text-sm mb-2">–î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –∑–∞–¥–∞—á—É</h4>
        <div className="flex gap-2">
            <input
                type="text"
                placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏"
                className="flex-1 rounded-xl border p-2 bg-white dark:bg-zinc-800 text-sm"
                value={newCustomQuestTitle}
                onChange={e => setNewCustomQuestTitle(e.target.value)}
            />
            <button className="btn btn-primary text-sm" onClick={handleAddCustomQuest}>–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div className="space-y-2 mt-3 max-h-24 overflow-y-auto pr-2">
            {customQuests.map(quest => (
                <div key={quest.id} className="flex items-center justify-between p-2 rounded-lg bg-white/5">
                    <label className="flex items-center gap-3 cursor-pointer">
                        <input
                            type="checkbox"
                            checked={selectedQuestIds.includes(quest.id)}
                            onChange={() => {
                                setSelectedQuestIds(prev =>
                                    prev.includes(quest.id) ? prev.filter(id => id !== quest.id) : [...prev, quest.id]
                                );
                            }}
                        />
                        <span className="text-sm">{quest.title}</span>
                    </label>
                    <button onClick={() => handleRemoveCustomQuest(quest.id)} className="text-red-400 hover:text-red-500 text-xl leading-none">&times;</button>
                </div>
            ))}
        </div>
      </div>
    </div>
  );

  const renderStepFour = () => (
    <div>
      <h3 className="text-lg font-semibold mb-4">–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</h3>
      <div className="space-y-3 text-sm">
        <p><b>–ò–º—è:</b> {studentName}</p>
        <p><b>–°—Ç—Ä–∞–Ω–∞:</b> {countries.find(c => c.id === selectedCountryId)?.name}</p>
        <div>
            <b>–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã:</b>
            <ul className="list-disc list-inside pl-2 text-xs">
                {universities.filter(u => selectedUniversityIds.includes(u.id)).map(u => <li key={u.id}>{u.name}</li>)}
            </ul>
        </div>
        <div>
            <b>–ó–∞–¥–∞—á–∏:</b>
            <ul className="list-disc list-inside pl-2 text-xs">
                {quests.filter(q => selectedQuestIds.includes(q.id)).map(q => <li key={q.id}>{q.title}</li>)}
                {customQuests.filter(q => selectedQuestIds.includes(q.id)).map(q => <li key={q.id}><i>{q.title} (—Å–≤–æ—è –∑–∞–¥–∞—á–∞)</i></li>)}
            </ul>
        </div>
      </div>
    </div>
  );


  return (
    <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50" onClick={onClose}>
      <div className="w-full max-w-2xl card p-6 bg-zinc-900" onClick={e => e.stopPropagation()}>
        <div className="flex justify-between items-start">
            <h2 className="text-xl font-bold mb-1">–ù–æ–≤—ã–π —Å—Ç—É–¥–µ–Ω—Ç</h2>
            <button onClick={onClose} className="text-2xl leading-none">&times;</button>
        </div>
        <p className="text-sm text-zinc-400 mb-6">–®–∞–≥ {currentStep} –∏–∑ 4</p>

        <div className="min-h-[20rem]">
            {currentStep === 1 && renderStepOne()}
            {currentStep === 2 && renderStepTwo()}
            {currentStep === 3 && renderStepThree()}
            {currentStep === 4 && renderStepFour()}
        </div>

        {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è */}
        <div className="border-t border-white/10 pt-4 mt-4 flex justify-between items-center">
          <div>
            {currentStep > 1 && (
              <button className="btn" onClick={handleBack}>–ù–∞–∑–∞–¥</button>
            )}
          </div>
          <div>
            {currentStep < 4 ? (
              <button className="btn btn-primary" onClick={handleNext}>–î–∞–ª–µ–µ</button>
            ) : (
              <button className="btn btn-primary" onClick={handleSave}>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞</button>
            )}
          </div>
        </div>

      </div>
    </div>
  );
}
--- END FILE: app/curator/students/AddStudentModal.tsx ---

--- BEGIN FILE: app/curator/students/page.tsx ---
"use client";
import { useEffect, useMemo, useState } from "react";
import { useCountry } from "@/app/shared/CountryContext";
import AddStudentModal from "./AddStudentModal";

// --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –ú–æ–¥–µ–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ ---
export type Student = {
  id: string;
  name: string;
  countryId: string;
  assignedUniversityIds: string[];
  assignedQuestIds: number[];
  customQuests?: { id: number; title: string }[];
};

// --- –ù–û–í–û–ï: –ú–æ–∫-–¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ UI –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ ---
const mockStudentProgress = [
  {
    id: "mock_1",
    name: "–ê—Ä—Ç—ë–º –ì–∞–Ω–µ–µ–≤",
    countryId: "it",
    completedQuests: 4,
    totalQuests: 9,
    reviewQuests: 1,
  },
  {
    id: "mock_2",
    name: "–í–µ—Ä–æ–Ω–∏–∫–∞ –°–º–∏—Ä–Ω–æ–≤–∞",
    countryId: "at",
    completedQuests: 2,
    totalQuests: 8,
    reviewQuests: 1,
  },
  {
    id: "mock_3",
    name: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    countryId: "at",
    completedQuests: 0,
    totalQuests: 8,
    reviewQuests: 1,
  },
];

const STORAGE_KEY = "managedStudents";

export default function StudentPanelPage() {
  const { countries } = useCountry();
  const [students, setStudents] = useState<Student[]>([]);
  // --- –ù–û–í–û–ï: –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º ---
  const [isModalOpen, setIsModalOpen] = useState(false);

  useEffect(() => {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–∑ localStorage, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
    try {
      const raw = localStorage.getItem(STORAGE_KEY);
      if (raw) setStudents(JSON.parse(raw));
    } catch {}
  }, []);

  // --- –ù–û–í–û–ï: –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ ---
  const handleSaveStudent = (newStudentData: Omit<Student, 'id'>) => {
    const newStudent: Student = { ...newStudentData, id: `student_${Date.now()}`};
    const updatedStudents = [...students, newStudent];
    setStudents(updatedStudents);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedStudents));
    setIsModalOpen(false); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  };

  // –û–±—ä–µ–¥–∏–Ω—è–µ–º –º–æ–∫-–¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const allStudents = useMemo(() => {
    const combined = [...mockStudentProgress];
    // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –Ω–æ –±–µ–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (—Ç.–∫. –æ–Ω –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è)
    students.forEach(s => {
      combined.push({
        ...s,
        completedQuests: 0,
        // –î–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å—á–∏—Ç–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ –ª–µ—Ç—É (–ø–æ–∫–∞ 0)
        totalQuests: s.assignedQuestIds.length,
        reviewQuests: 0,
      });
    });
    return combined;
  }, [students]);

  return (
    <div>
      <div>
        <h1 className="text-2xl font-semibold">–ü–∞–Ω–µ–ª—å –°—Ç—É–¥–µ–Ω—Ç–æ–≤</h1>
        <p className="text-zinc-600 dark:text-zinc-300 mb-6">–û–±–∑–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.</p>
        {/* --- –ù–û–í–û–ï: –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ --- */}
        <button className="btn btn-primary mb-6" onClick={() => setIsModalOpen(true)}>
          + –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
        </button>
      </div>

      <div className="space-y-4">
        {allStudents.map((student) => {
            const country = countries.find((c) => c.id === student.countryId);
            const progressPercentage = student.totalQuests > 0 ? (student.completedQuests / student.totalQuests) * 100 : 0;
            const isLowProgress = progressPercentage < 30 && student.completedQuests < 3;

            return (
                <div key={student.id} className="card p-4 bg-zinc-800/50">
                    <div className="grid grid-cols-[1fr_auto] gap-4">
                        <div>
                            <h3 className="text-lg font-semibold">{student.name}</h3>
                            <div className="text-sm text-zinc-400 flex items-center gap-2">
                                {country?.flag_icon} {country?.name || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∞"}
                            </div>
                        </div>
                        <div className="text-right">
                            <div className="text-sm font-medium">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
                            <div className="text-xs text-zinc-400 mb-1">{student.completedQuests} / {student.totalQuests} –∫–≤–µ—Å—Ç–æ–≤</div>
                            <div className="w-32 bg-zinc-700 rounded-full h-2">
                                <div className="bg-blue-600 h-2 rounded-full" style={{ width: `${progressPercentage}%` }}></div>
                            </div>
                        </div>
                    </div>
                    <div className="border-t border-white/10 my-3"></div>
                    <div className="flex items-center gap-2">
                        {student.reviewQuests > 0 && (
                            <div className="text-xs font-medium px-3 py-1 rounded-full bg-yellow-500/20 text-yellow-400">
                                –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ: {student.reviewQuests} –∫–≤–µ—Å—Ç–∞
                            </div>
                        )}
                        {isLowProgress && (
                            <div className="text-xs font-medium px-3 py-1 rounded-full bg-red-500/20 text-red-400">
                                –ù–∏–∑–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                            </div>
                        )}
                    </div>
                </div>
            );
        })}
      </div>

      {/* --- –ù–û–í–û–ï: –†–µ–Ω–¥–µ—Ä –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ --- */}
      {isModalOpen && (
        <AddStudentModal onClose={() => setIsModalOpen(false)} onSave={handleSaveStudent} />
      )}
    </div>
  );
}
--- END FILE: app/curator/students/page.tsx ---

--- BEGIN FILE: app/globals.css ---
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* utilities used by Student/Curator screens */
.container {
  @apply mx-auto px-4;
}
.card {
  @apply rounded-2xl shadow border border-black/5 dark:border-white/10 bg-white dark:bg-zinc-900;
}
.btn {
  @apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium;
}
.btn-primary {
  @apply bg-black text-white dark:bg-white dark:text-black;
}
--- END FILE: app/globals.css ---

--- BEGIN FILE: app/layout.tsx ---
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";
import { AuthProvider } from "./shared/AuthContext";
import { ProgressProvider } from "./shared/ProgressContext";
import { CountryProvider } from "./shared/CountryContext";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <AuthProvider>
          <ProgressProvider>
            <CountryProvider>
              {children}
            </CountryProvider>
          </ProgressProvider>
        </AuthProvider>
      </body>
    </html>
  );
}
--- END FILE: app/layout.tsx ---

--- BEGIN FILE: app/login/page.tsx ---
"use client";
import { useRouter } from "next/navigation";
import { useAuth } from "../shared/AuthContext";
import { useEffect } from "react";

export default function LoginPage() {
  const auth = useAuth();
  const router = useRouter();

  useEffect(() => {
    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ
    if (auth.user) {
      router.replace(auth.user.role === "student" ? "/student/dashboard" : "/curator/dashboard");
    }
  }, [auth.user, router]);

  const handleLogin = (role: "student" | "curator") => {
    auth.login(role);
  };

  return (
    <div className="min-h-screen bg-zinc-50 dark:bg-black flex items-center justify-center">
      <div className="w-full max-w-sm rounded-2xl shadow p-8 bg-white dark:bg-zinc-900">
        <h1 className="text-2xl font-semibold mb-3 text-zinc-900 dark:text-zinc-50">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h1>
        <p className="text-zinc-600 dark:text-zinc-300 mb-6">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ (mock).</p>
        <div className="space-y-3">
          <button
            onClick={() => handleLogin("student")}
            className="w-full rounded-2xl py-3 font-medium bg-black text-white dark:bg-white dark:text-black"
          >
            –í–æ–π—Ç–∏ –∫–∞–∫ –°—Ç—É–¥–µ–Ω—Ç
          </button>
          <button
            onClick={() => handleLogin("curator")}
            className="w-full rounded-2xl py-3 font-medium border border-black/10 dark:border-white/20"
          >
            –í–æ–π—Ç–∏ –∫–∞–∫ –ö—É—Ä–∞—Ç–æ—Ä
          </button>
        </div>
      </div>
    </div>
  );
}
--- END FILE: app/login/page.tsx ---

--- BEGIN FILE: app/page.tsx ---
"use client";
import { useEffect } from "react";
import { useRouter } from "next/navigation";
import { useAuth } from "./shared/AuthContext";

export default function RootPage() {
  const router = useRouter();
  const { user, loading } = useAuth();

  useEffect(() => {
    if (loading) return; // –ñ–¥–µ–º, –ø–æ–∫–∞ AuthContext –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    if (!user) {
      router.replace("/login");
    } else if (user.role === "student") {
      router.replace("/student/dashboard");
    } else if (user.role === "curator") {
      router.replace("/curator/dashboard");
    }
  }, [user, loading, router]);

  return (
    <div className="min-h-screen bg-zinc-50 dark:bg-black flex items-center justify-center">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  );
}
--- END FILE: app/page.tsx ---

--- BEGIN FILE: app/shared/AuthContext.tsx ---
"use client";
import { useRouter } from "next/navigation";
import React, { createContext, useContext, useEffect, useState } from "react";

type User = {
  name: string;
  role: "student" | "curator";
};

type AuthContextType = {
  user: User | null;
  loading: boolean;
  login: (role: "student" | "curator") => void;
  logout: () => void;
};

const AuthCtx = createContext<AuthContextType | null>(null);

export const AuthProvider: React.FC<React.PropsWithChildren> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const router = useRouter();

  useEffect(() => {
    try {
      const storedUser = localStorage.getItem("authUser");
      if (storedUser) {
        setUser(JSON.parse(storedUser));
      }
    } catch (e) {
      console.error("Failed to parse auth user from localStorage", e);
    } finally {
      setLoading(false);
    }
  }, []);

  const login = (role: "student" | "curator") => {
    const newUser: User = { name: role === "student" ? "–°—Ç—É–¥–µ–Ω—Ç" : "–ö—É—Ä–∞—Ç–æ—Ä", role };
    localStorage.setItem("authUser", JSON.stringify(newUser));
    setUser(newUser);
    router.replace(role === "student" ? "/student/dashboard" : "/curator/dashboard");
  };

  const logout = () => {
    localStorage.removeItem("authUser");
    setUser(null);
    router.replace("/login");
  };

  const value = { user, loading, login, logout };

  return <AuthCtx.Provider value={value}>{children}</AuthCtx.Provider>;
};

export const useAuth = () => {
  const ctx = useContext(AuthCtx);
  if (!ctx) throw new Error("useAuth must be used within an AuthProvider");
  return ctx;
};
--- END FILE: app/shared/AuthContext.tsx ---

--- BEGIN FILE: app/shared/CountryContext.tsx ---
"use client";
import React, { createContext, useContext, useEffect, useMemo, useState } from "react";
import baseCountries from "@/mock/countries.json";
import questTemplates from "@/mock/quest_templates.json";
import docTemplates from "@/mock/document_templates.json";
import universityTemplates from "@/mock/universities.json";
import programTemplates from "@/mock/programs.json";

export type CountryProfile = {
  id: string;
  name: string;
  flag_icon: string;
  required_document_ids: number[];
  required_quest_ids: number[];
};

export type QuestTemplate = {
  id: number;
  stage: string;
  title: string;
  xp: number;
  description: string;
  deadline: string;
  links_to_document_id: number | null;
};

export type DocumentTemplate = {
  id: number;
  category: string;
  title: string;
};

// --- –ù–û–í–û–ï: –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –∏ –ø—Ä–æ–≥—Ä–∞–º–º ---
export type University = {
  id: string;
  name: string;
  logo_url: string;
  program_ids: number[];
};

export type Program = {
  id: number;
  title: string;
  university_id: string;
  deadline: string;
  link: string;
  image_url: string;
  required_document_ids: number[];
};

type Ctx = {
  countries: CountryProfile[];
  selectedCountryId: string;
  setSelectedCountryId: (id: string) => void;
  selectedCountry: CountryProfile | undefined;
  quests: QuestTemplate[];
  documents: DocumentTemplate[];
  universities: University[];
  programs: Program[];
};

const CountryCtx = createContext<Ctx | null>(null);

function readOverrides(): CountryProfile[] | null {
  if (typeof window === "undefined") return null;
  try {
    const raw = localStorage.getItem("countriesOverride");
    if (!raw) return null;
    const parsed = JSON.parse(raw);
    if (Array.isArray(parsed)) return parsed as CountryProfile[];
    return null;
  } catch {
    return null;
  }
}

export const CountryProvider: React.FC<React.PropsWithChildren> = ({ children }) => {
  const [countries, setCountries] = useState<CountryProfile[]>(baseCountries as CountryProfile[]);
  const [selectedCountryId, setSelectedCountryIdState] = useState<string>("");

  useEffect(() => {
    const override = readOverrides();
    if (override && override.length) setCountries(override);
    const saved = localStorage.getItem("selectedCountryId");
    setSelectedCountryIdState(saved || (override?.[0]?.id ?? (countries[0]?.id || "at")));
  }, []);

  const setSelectedCountryId = (id: string) => {
    setSelectedCountryIdState(id);
    if (typeof window !== "undefined") localStorage.setItem("selectedCountryId", id);
  };

  const selectedCountry = useMemo(
    () => countries.find((c) => c.id === selectedCountryId),
    [countries, selectedCountryId]
  );

  const value: Ctx = {
    countries,
    selectedCountryId,
    setSelectedCountryId,
    selectedCountry,
    quests: questTemplates as QuestTemplate[],
    documents: docTemplates as DocumentTemplate[],
    universities: universityTemplates as University[],
    programs: programTemplates as Program[],
  };

  return <CountryCtx.Provider value={value}>{children}</CountryCtx.Provider>;
};

export function useCountry() {
  const ctx = useContext(CountryCtx);
  if (!ctx) throw new Error("useCountry must be used within CountryProvider");
  return ctx;
}
--- END FILE: app/shared/CountryContext.tsx ---

--- BEGIN FILE: app/shared/CountrySwitcher.tsx ---
"use client";
import { useCountry } from "./CountryContext";

export default function CountrySwitcher() {
  const { countries, selectedCountryId, setSelectedCountryId } = useCountry();
  return (
    <div className="flex items-center gap-2">
      <span className="text-xs text-zinc-500">–û–ø–µ—Ä–∞—Ü–∏—è:</span>
      <select
        className="flex-1 rounded-xl border px-3 py-2 bg-white dark:bg-zinc-800"
        value={selectedCountryId}
        onChange={(e) => setSelectedCountryId(e.target.value)}
        aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å—Ç—Ä–∞–Ω—ã"
      >
        {countries.map((c) => (
          <option key={c.id} value={c.id}>
            {c.flag_icon} {c.name}
          </option>
        ))}
      </select>
    </div>
  );
}
--- END FILE: app/shared/CountrySwitcher.tsx ---

--- BEGIN FILE: app/shared/Notifications.tsx ---
"use client";
import { useMemo, useState, useRef, useEffect } from "react";
import { useCountry } from "./CountryContext";
import { useProgress } from "./ProgressContext";

const BellIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    className="h-6 w-6"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
    strokeWidth={2}
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
    />
  </svg>
);

export default function Notifications() {
  const [isOpen, setIsOpen] = useState(false);
  const { quests, selectedCountry } = useCountry();
  const { progress } = useProgress();
  const ref = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (ref.current && !ref.current.contains(event.target as Node)) {
        setIsOpen(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, [ref]);

  const notifications = useMemo(() => {
    const notifs: { id: string; type: "review" | "done" | "deadline"; message: string }[] = [];
    if (!selectedCountry) return [];

    const TODAY = new Date("2025-10-24T12:00:00Z"); // –ó–∞–¥–∞–Ω–Ω–∞—è –¥–∞—Ç–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤
    const DEADLINE_THRESHOLD_DAYS = 7;

    const requiredQuestIds = new Set(selectedCountry.required_quest_ids);
    const relevantQuests = quests.filter((q) => requiredQuestIds.has(q.id));

    for (const quest of relevantQuests) {
      const questProgress = progress[quest.id];

      if (questProgress?.status === "review") {
        notifs.push({
          id: `s-review-${quest.id}`,
          type: "review",
          message: `–ó–∞–¥–∞—á–∞ "${quest.title}" –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É.`,
        });
      } else if (questProgress?.status === "done") {
        notifs.push({ id: `s-done-${quest.id}`, type: "done", message: `–ó–∞–¥–∞—á–∞ "${quest.title}" –æ–¥–æ–±—Ä–µ–Ω–∞! ‚úÖ` });
      }

      if (questProgress?.status !== "done") {
        const deadlineDate = new Date(quest.deadline);
        const diffTime = deadlineDate.getTime() - TODAY.getTime();
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

        if (diffDays >= 0 && diffDays <= DEADLINE_THRESHOLD_DAYS) {
          notifs.push({
            id: `d-${quest.id}`,
            type: "deadline",
            message: `–î–µ–¥–ª–∞–π–Ω –¥–ª—è "${quest.title}" –∏—Å—Ç–µ–∫–∞–µ—Ç ${quest.deadline}.`,
          });
        }
      }
    }
    return notifs;
  }, [selectedCountry, quests, progress]);

  const typeStyles = {
    review: "border-l-4 border-yellow-500",
    done: "border-l-4 border-green-500",
    deadline: "border-l-4 border-red-500",
  };

  return (
    <div className="relative" ref={ref}>
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="relative text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"
        aria-label={`–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (${notifications.length})`}
      >
        <BellIcon />
        {notifications.length > 0 && (
          <span className="absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white">
            {notifications.length}
          </span>
        )}
      </button>
      {isOpen && (
        <div className="card absolute left-[30px] top-[-10px] mt-2 w-80 max-h-96 overflow-y-auto p-2 shadow-xl z-10">
          <div className="p-2 font-semibold text-sm">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
          {notifications.length > 0 ? (
            <ul className="space-y-1">
              {notifications.map((n) => (
                <li key={n.id} className={`p-2 rounded-lg text-xs ${typeStyles[n.type]} bg-black/5 dark:bg-white/5`}>{n.message}</li>
              ))}
            </ul>
          ) : (<p className="p-4 text-center text-xs text-zinc-500">–ù–µ—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.</p>)}
        </div>
      )}
    </div>
  );
}
--- END FILE: app/shared/Notifications.tsx ---

--- BEGIN FILE: app/shared/ProgressContext.tsx ---
"use client";
import React, { createContext, useContext, useEffect, useState } from "react";

/* --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å –¥–ª—è –∑–∞–¥–∞—á, —Ç—Ä–µ–±—É—é—â–∏—Ö –ø—Ä–∞–≤–æ–∫ --- */
export type ProgressStatus = "review" | "done" | "changes_requested";
export type ProgressItem = {
  status: ProgressStatus;
  submission: any; // Allow storing strings or objects
  comment?: string; // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä–∞—Ç–æ—Ä–∞
};
type ProgressState = Record<number, ProgressItem>;

type ProgressContextType = {
  progress: ProgressState;
  submitQuest: (questId: number, submission: any) => void;
  uncompleteQuest: (questId: number) => void;
  approveQuest: (questId: number) => void;
  requestChanges: (questId: number, comment: string) => void;
};

const ProgressCtx = createContext<ProgressContextType | null>(null);

// app/shared/ProgressContext.tsx

const STORAGE_KEY = "userProgress_submissions";
const MOCK_INITIAL_PROGRESS: ProgressState = {
  1: { status: "review", submission: { email: "student@gmail.com", password: "password123" } },
  11: { status: "review", submission: "photo_for_passport.jpg" }, // <--- –í–û–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ï
  10: { status: "done", submission: "passport_scan.pdf" },
  12: { status: "done", submission: "school_apostille.pdf" },
  13: { status: "done", submission: "college_docs.pdf" },
};

export const ProgressProvider: React.FC<React.PropsWithChildren> = ({ children }) => {
  const [progress, setProgress] = useState<ProgressState>({});

  useEffect(() => {
    try {
      const storedProgress = localStorage.getItem(STORAGE_KEY);
      if (storedProgress) {
        setProgress(JSON.parse(storedProgress));
      } else {
        // –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∑–∞–ø–æ–ª–Ω—è–µ–º –µ–≥–æ –º–æ–∫-–¥–∞–Ω–Ω—ã–º–∏
        setProgress(MOCK_INITIAL_PROGRESS);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(MOCK_INITIAL_PROGRESS));
      }
    } catch (e) {
      console.error("Failed to parse progress from localStorage", e);
    }
  }, []);

  const submitQuest = (questId: number, submission: any) => {
    // All submissions first go to "review" status
    // If resubmitting after changes were requested, clear the old comment
    setProgress((prev) => {
      const updatedProgress = {
        ...prev,
        // –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–¥–∞—á–∞ —Å–Ω–æ–≤–∞ —É—Ö–æ–¥–∏—Ç –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—á–∏—â–∞–µ—Ç—Å—è
        [questId]: { status: "review" as ProgressStatus, submission }
      };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedProgress));
      return updatedProgress;
    });
  };

  const uncompleteQuest = (questId: number) => {
    setProgress((prev) => {
      const updatedProgress = { ...prev };
      delete updatedProgress[questId];
      localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedProgress));
      return updatedProgress;
    });
  };

  const approveQuest = (questId: number) => {
    setProgress((prev) => {
      if (!prev[questId]) return prev; // Cannot approve something that doesn't exist
      const updatedProgress = { ...prev };
      updatedProgress[questId] = { ...updatedProgress[questId], status: "done" as ProgressStatus };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedProgress));
      return updatedProgress;
    });
  };

  /* --- –ù–û–í–û–ï: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–¥–∞—á–∏ –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É --- */
  const requestChanges = (questId: number, comment: string) => {
    setProgress((prev) => {
      if (!prev[questId]) return prev;
      const updatedProgress = { ...prev };
      updatedProgress[questId] = { ...updatedProgress[questId], status: "changes_requested" as ProgressStatus, comment };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedProgress));
      return updatedProgress;
    });
  };

  const value = {
    progress,
    submitQuest,
    uncompleteQuest,
    approveQuest,
    requestChanges,
  };

  return <ProgressCtx.Provider value={value}>{children}</ProgressCtx.Provider>;
};

export const useProgress = () => {
  const ctx = useContext(ProgressCtx);
  if (!ctx) throw new Error("useProgress must be used within a ProgressProvider");
  return ctx;
};
--- END FILE: app/shared/ProgressContext.tsx ---

--- BEGIN FILE: app/shared/Sidebar.tsx ---
"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { useAuth } from "./AuthContext";
import Notifications from "./Notifications";
import CountrySwitcher from "./CountrySwitcher";

const NavItem = ({ href, label }: { href: string; label: string }) => {
  const path = usePathname();
  const active = path === href;
  return (
    <Link
      href={href}
      className={`block px-4 py-2 rounded-xl transition ${
        active ? "bg-black text-white dark:bg-white dark:text-black" : "hover:bg-black/5 dark:hover:bg-white/10"
      }`}
    >
      {label}
    </Link>
  );
};

export default function Sidebar() {
  const { user, logout } = useAuth();

  return (
    <aside className="w-full sm-w-64 shrink-0">
      {user?.role === "student" && (
        <div className="card p-4">
          <div className="flex items-center justify-between mb-2">
            <div className="text-xs uppercase tracking-wide text-zinc-500">–¢–µ–∫—É—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è</div>
            <Notifications />
          </div>
          <CountrySwitcher />
        </div>
      )}
      <div className="mt-4 card p-2 space-y-1">
        <nav className="space-y-1">
          {user?.role === "student" && (
            <>
              <NavItem href="/student/dashboard" label="–ì–ª–∞–≤–Ω–∞—è" />
              <NavItem href="/student/quests" label="–ú–æ–∏ –ö–≤–µ—Å—Ç—ã" />
              <NavItem href="/student/kanban" label="Kanban –î–æ—Å–∫–∞" />
              {/* --- –ù–û–í–û–ï: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞–∑–¥–µ–ª "–ú–æ–∏ –ü—Ä–æ–≥—Ä–∞–º–º—ã" --- */}
              <NavItem href="/student/programs" label="–ú–æ–∏ –ü—Ä–æ–≥—Ä–∞–º–º—ã" />
              <NavItem href="/student/folder" label="–ú–æ—è –ü–∞–ø–∫–∞" />
            </>
          )}
          {user?.role === "curator" && (
            <>
              {/* --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –°—Å—ã–ª–∫–∞ "–°—Ç—É–¥–µ–Ω—Ç—ã" –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ "–ü–∞–Ω–µ–ª—å –°—Ç—É–¥–µ–Ω—Ç–æ–≤" --- */}
              <NavItem href="/curator/students" label="–ü–∞–Ω–µ–ª—å –°—Ç—É–¥–µ–Ω—Ç–æ–≤" />
              <NavItem href="/curator/review" label="–†–µ–≤—å—é –ó–∞–¥–∞—á" />
              <NavItem href="/curator/admin/countries" label="–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –°—Ç—Ä–∞–Ω" />
            </>
          )}
        </nav>
        <div className="h-px bg-black/5 dark:bg-white/10 my-2 !mt-3 !mb-2" />
        <button onClick={logout} className="block w-full text-left px-4 py-2 rounded-xl transition hover:bg-black/5 dark:hover:bg-white/10">–í—ã–π—Ç–∏</button>
      </div>
    </aside>
  );
}
--- END FILE: app/shared/Sidebar.tsx ---

--- BEGIN FILE: app/student/dashboard/page.tsx ---
"use client";
import { useAuth } from "@/app/shared/AuthContext";
import { useCountry } from "@/app/shared/CountryContext";
import { useProgress } from "@/app/shared/ProgressContext";
import Link from "next/link";
import { useMemo } from "react";

export default function Dashboard() {
  const { user } = useAuth();
  const { selectedCountry, quests, documents } = useCountry();
  const { progress } = useProgress();

  const { totalQuests, completedQuests, progressPercentage, totalXp } = useMemo(() => {
    if (!selectedCountry) {
      return { totalQuests: 0, completedQuests: 0, progressPercentage: 0, totalXp: 0 };
    }

    const requiredQuests = new Set(selectedCountry.required_quest_ids);
    const allCompletedIds = Object.keys(progress).filter((id) => progress[Number(id)].status === 'done').map(Number);
    const relevantCompletedIds = allCompletedIds.filter((id) => requiredQuests.has(id));
    const progressValue = requiredQuests.size > 0 ? (relevantCompletedIds.length / requiredQuests.size) * 100 : 0;

    const xp = relevantCompletedIds.reduce((sum: number, id: number) => {
      const quest = quests.find((q) => q.id === id);
      return sum + (quest?.xp || 0);
    }, 0);

    return {
      totalQuests: requiredQuests.size,
      completedQuests: relevantCompletedIds.length,
      progressPercentage: progressValue,
      totalXp: xp,
    };
  }, [selectedCountry, progress, quests]);

  return (
    <div>
      <h1 className="text-2xl font-semibold mb-2">–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –®—Ç–∞–±</h1>
      <p className="text-zinc-600 dark:text-zinc-300 mb-6">
        –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {user?.name}! –ó–¥–µ—Å—å –≤–∞—à —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–µ–π ¬´–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ¬ª.
      </p>

      <div className="grid sm:grid-cols-[1fr_2fr] gap-6 mb-6">
        <div className="card p-4 flex flex-col items-center text-center">
          <div className="text-5xl mb-2">üéì</div>
          <div className="font-semibold">{user?.name}</div>
          <div className="text-sm text-zinc-500">–£—Ä–æ–≤–µ–Ω—å 1</div>
          <div className="mt-2 text-lg font-bold text-yellow-500">{totalXp} XP</div>
        </div>
        <div className="card p-4">
          <div className="flex items-center justify-between mb-1">
            <h2 className="font-semibold">–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Å—Ç—Ä–∞–Ω–µ: {selectedCountry?.flag_icon} {selectedCountry?.name}</h2>
            <span className="text-sm font-medium">{completedQuests} / {totalQuests}</span>
          </div>
          <div className="w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2.5">
            <div className="bg-blue-600 h-2.5 rounded-full" style={{ width: `${progressPercentage}%` }}></div>
          </div>
          <p className="text-xs text-zinc-500 mt-2">–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤ –ø–æ–≤—ã—à–∞–µ—Ç –≤–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –æ–ø—ã—Ç.</p>
        </div>
      </div>

      {/* --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –°–µ—Ç–∫–∞ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ 4 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö --- */}
      <div className="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <Link
          href="/student/quests"
          className="card p-4 hover:bg-black/5 dark:hover:bg-white/5 transition h-[200px] flex flex-col justify-center text-center"
        >
          <div className="text-xl font-semibold mb-1">–ú–æ–∏ –ö–≤–µ—Å—Ç—ã ({totalQuests})</div>
          <div className="text-sm text-zinc-600 dark:text-zinc-300">–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø–æ —Å—Ç—Ä–∞–Ω–µ.</div>
        </Link>
        <Link
          href="/student/kanban"
          className="card p-4 hover:bg-black/5 dark:hover:bg-white/5 transition h-[200px] flex flex-col justify-center text-center"
        >
          <div className="text-xl font-semibold mb-1">Kanban –î–æ—Å–∫–∞</div>
          <div className="text-sm text-zinc-600 dark:text-zinc-300">–í–∏–∑—É–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏.</div>
        </Link>
        {/* --- –ù–û–í–û–ï: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞-—Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞–∑–¥–µ–ª "–ú–æ–∏ –ü—Ä–æ–≥—Ä–∞–º–º—ã" --- */}
        <Link
          href="/student/programs"
          className="card p-4 hover:bg-black/5 dark:hover:bg-white/5 transition h-[200px] flex flex-col justify-center text-center"
        >
          <div className="text-xl font-semibold mb-1">–ú–æ–∏ –ü—Ä–æ–≥—Ä–∞–º–º—ã</div>
          <div className="text-sm text-zinc-600 dark:text-zinc-300">–¶–µ–ª–µ–≤—ã–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã –∏ –∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.</div>
        </Link>
        <Link
          href="/student/folder"
          className="card p-4 hover:bg-black/5 dark:hover:bg-white/5 transition h-[200px] flex flex-col justify-center text-center"
        >
          <div className="text-xl font-semibold mb-1">–ú–æ—è –ü–∞–ø–∫–∞ ({selectedCountry?.required_document_ids.length || 0})</div>
          <div className="text-sm text-zinc-600 dark:text-zinc-300">–ß–µ–∫-–ª–∏—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã.</div>
        </Link>
      </div>
    </div>
  );
}
--- END FILE: app/student/dashboard/page.tsx ---

--- BEGIN FILE: app/student/folder/page.tsx ---
"use client";
import { useCountry } from "@/app/shared/CountryContext";
import { useProgress } from "@/app/shared/ProgressContext";
import { useMemo } from "react";

export default function FolderPage() {
  const { documents, selectedCountry, quests } = useCountry();
  const { progress } = useProgress();

  const completedDocumentIds = useMemo(() => {
    const doneDocIds = new Set<number>();
    if (!selectedCountry) return doneDocIds;

    // 1. –ü–æ–ª—É—á–∞–µ–º ID –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤
    const doneQuestIds = Object.keys(progress)
      .map(Number)
      .filter((questId) => progress[questId].status === "done");

    // 2. –ù–∞—Ö–æ–¥–∏–º, –∫ –∫–∞–∫–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º —ç—Ç–∏ –∫–≤–µ—Å—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã
    doneQuestIds.forEach((questId) => {
      const quest = quests.find((q) => q.id === questId);
      if (quest && quest.links_to_document_id) {
        doneDocIds.add(quest.links_to_document_id);
      }
    });
    return doneDocIds;
  }, [progress, quests, selectedCountry]);

  if (!selectedCountry) return null;

  const required = new Set(selectedCountry.required_document_ids);
  const filtered = documents.filter((d) => required.has(d.id) && completedDocumentIds.has(d.id));

  const handleDownload = () => {
    alert("–ò–º–∏—Ç–∞—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–∞. –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è ZIP-—Ñ–∞–π–ª–∞.");
  };

  return (
    <div>
      <div className="flex items-center justify-between mb-6">
        <div>
          <h1 className="text-2xl font-semibold mb-2">–ú–æ—è –ü–∞–ø–∫–∞</h1>
          <p className="text-zinc-600 dark:text-zinc-300">
            –ó–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –≥–æ—Ç–æ–≤—ã–µ –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.
          </p>
        </div>
        <button className="btn btn-primary" onClick={handleDownload} disabled={filtered.length === 0}>
          –°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤–æ–º
        </button>
      </div>
      {filtered.length === 0 ? (
        <div className="text-center py-10">
          <div className="text-4xl mb-3">üóÇÔ∏è</div>
          <p className="text-zinc-500">–ü–∞–ø–∫–∞ –ø—É—Å—Ç–∞. –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å.</p>
        </div>
      ) : (
        <ul className="grid sm:grid-cols-2 md:grid-cols-3 gap-4">
          {filtered.map((d) => (
            <li key={d.id} className="card p-4 flex flex-col justify-between">
              <div>
                <div className="text-xs text-zinc-500">{d.category}</div>
                <div className="font-medium mt-1">{d.title}</div>
              </div>
              <div className="text-xs text-green-500 mt-3 font-semibold">–ü—Ä–æ–≤–µ—Ä–µ–Ω</div>
            </li>
          ))}
        </ul>
      )}
    </div>
  );
}
--- END FILE: app/student/folder/page.tsx ---

--- BEGIN FILE: app/student/kanban/page.tsx ---
"use client";
import { useCountry, QuestTemplate } from "@/app/shared/CountryContext";
import { useProgress } from "@/app/shared/ProgressContext";
import { useState } from "react";
import QuestDetailModal from "../quests/QuestDetailModal";

const KanbanColumn = ({
  title,
  quests,
  onSelectQuest,
}: {
  title: string;
  quests: QuestTemplate[];
  onSelectQuest: (quest: QuestTemplate) => void;
}) => (
  <div className="flex-1">
    <h2 className="text-lg font-semibold mb-4 px-1">{title}</h2>
    <div className="space-y-3 h-[calc(100vh-18rem)] overflow-y-auto pr-2">
      {quests.map((q) => (
        <div
          key={q.id}
          onClick={() => onSelectQuest(q)}
          className="card p-4 transition hover:shadow-lg cursor-pointer bg-white dark:bg-zinc-800"
        >
          <div className="font-medium text-sm">{q.title}</div>
          <div className="text-xs text-yellow-500 font-bold mt-2">XP: {q.xp}</div>
        </div>
      ))}
    </div>
  </div>
);

export default function KanbanPage() {
  const { quests, selectedCountry } = useCountry();
  const { progress } = useProgress();
  const [selectedQuest, setSelectedQuest] = useState<QuestTemplate | null>(null);

  if (!selectedCountry) return null;

  const requiredIds = new Set(selectedCountry.required_quest_ids);
  const allQuests = quests.filter((q) => requiredIds.has(q.id));

  // --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –ó–∞–¥–∞—á–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –ø—Ä–∞–≤–æ–∫, —Ç–µ–ø–µ—Ä—å —Ç–æ–∂–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ "To Do" ---
  const todoQuests = allQuests.filter(q => !progress[q.id] || progress[q.id]?.status === 'changes_requested');
  const onReviewQuests = allQuests.filter(q => progress[q.id]?.status === 'review');
  const doneQuests = allQuests.filter(q => progress[q.id]?.status === 'done');

  return (
    <>
      <div>
        <h1 className="text-2xl font-semibold mb-2">Kanban –î–æ—Å–∫–∞</h1>
        <p className="text-zinc-600 dark:text-zinc-300 mb-6">
          –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.
        </p>
        <div className="flex gap-6">
          <KanbanColumn
            title={`To Do (${todoQuests.length})`}
            quests={todoQuests}
            onSelectQuest={setSelectedQuest}
          />
          <KanbanColumn
            title={`On Review (${onReviewQuests.length})`}
            quests={onReviewQuests}
            onSelectQuest={setSelectedQuest}
          />
          <KanbanColumn
            title={`Done (${doneQuests.length})`}
            quests={doneQuests}
            onSelectQuest={setSelectedQuest}
          />
        </div>
      </div>
      {selectedQuest && (
        <QuestDetailModal quest={selectedQuest} onClose={() => setSelectedQuest(null)} />
      )}
    </>
  );
}
--- END FILE: app/student/kanban/page.tsx ---

--- BEGIN FILE: app/student/layout.tsx ---
"use client";
import "../globals.css";
import { useAuth } from "../shared/AuthContext";
import Sidebar from "../shared/Sidebar";
import { useRouter } from "next/navigation";
import { useEffect } from "react";

export default function StudentLayout({ children }: { children: React.ReactNode }) {
  const { user, loading } = useAuth();
  const router = useRouter();

  useEffect(() => {
    if (!loading && (!user || user.role !== "student")) {
      router.replace("/login");
    }
  }, [user, loading, router]);

  if (loading || !user) return <div className="min-h-screen bg-zinc-50 dark:bg-black flex items-center justify-center">–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞...</div>;

  return (
    <div className="min-h-screen bg-zinc-50 dark:bg-black">
      <div className="container py-6">
        <div className="grid grid-cols-1 sm:grid-cols-[16rem_1fr] gap-6">
          <Sidebar />
          <main className="card p-4">{children}</main>
        </div>
      </div>
    </div>
  );
}
--- END FILE: app/student/layout.tsx ---

--- BEGIN FILE: app/student/programs/ProgramDetailModal.tsx ---
"use client";
import { Program, useCountry } from "@/app/shared/CountryContext";

type Props = {
  program: Program;
  onClose: () => void;
};

export default function ProgramDetailModal({ program, onClose }: Props) {
  const { documents } = useCountry();
  const requiredDocs = documents.filter((d) => program.required_document_ids.includes(d.id));

  return (
    <div
      className="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"
      onClick={onClose}
    >
      <div className="w-full max-w-3xl card p-0 overflow-hidden" onClick={(e) => e.stopPropagation()}>
        {/* eslint-disable-next-line @next/next/no-img-element */}
        <img src={program.image_url} alt={program.title} className="w-full h-48 object-cover" />
        <div className="p-6">
          <div className="flex items-start justify-between">
            <div>
              <h2 className="text-xl font-semibold mb-1">{program.title}</h2>
              <p className="text-sm text-zinc-500 mb-4">–î–µ–¥–ª–∞–π–Ω –ø–æ–¥–∞—á–∏: <b>{program.deadline}</b></p>
            </div>
            <button onClick={onClose} className="text-2xl leading-none">&times;</button>
          </div>

          <div className="grid md:grid-cols-2 gap-6">
            <div>
              <h3 className="font-semibold mb-2">–¢—Ä–µ–±—É–µ–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:</h3>
              <ul className="list-disc list-inside text-sm space-y-1">
                {requiredDocs.map(doc => <li key={doc.id}>{doc.title}</li>)}
              </ul>
            </div>
            <div>
              <h3 className="font-semibold mb-2">–ü–æ–ª–µ–∑–Ω–∞—è —Å—Å—ã–ª–∫–∞:</h3>
              <a
                href={program.link}
                target="_blank"
                rel="noopener noreferrer"
                className="text-sm text-blue-500 hover:underline break-words"
              >
                –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
--- END FILE: app/student/programs/ProgramDetailModal.tsx ---

--- BEGIN FILE: app/student/programs/page.tsx ---
"use client";
import { Program, useCountry } from "@/app/shared/CountryContext";
import { useState } from "react";
import ProgramDetailModal from "./ProgramDetailModal";

export default function ProgramsPage() {
  const { universities, programs } = useCountry();
  const [selectedProgram, setSelectedProgram] = useState<Program | null>(null);

  return (
    <>
      <div>
        <h1 className="text-2xl font-semibold mb-2">–ú–æ–∏ –ü—Ä–æ–≥—Ä–∞–º–º—ã</h1>
        <p className="text-zinc-600 dark:text-zinc-300 mb-6">
          –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã —Ü–µ–ª–µ–≤—ã–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã –∏ –∏—Ö —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.
        </p>
        <div className="space-y-8">
          {universities.map((uni) => {
            const uniPrograms = programs.filter(p => uni.program_ids.includes(p.id));
            return (
              <section key={uni.id}>
                <div className="flex items-center gap-3 mb-4">
                  <span className="text-2xl">{uni.logo_url}</span>
                  <h2 className="text-lg font-semibold">{uni.name}</h2>
                </div>
                <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
                  {uniPrograms.map((prog) => (
                    <button
                      key={prog.id}
                      onClick={() => setSelectedProgram(prog)}
                      className="card text-left p-0 overflow-hidden transition hover:shadow-xl w-full"
                    >
                      {/* eslint-disable-next-line @next/next/no-img-element */}
                      <img src={prog.image_url} alt={prog.title} className="w-full h-32 object-cover" />
                      <div className="p-4">
                        <div className="font-medium">{prog.title}</div>
                        <div className="text-xs text-zinc-500 mt-1">–î–µ–¥–ª–∞–π–Ω: {prog.deadline}</div>
                      </div>
                    </button>
                  ))}
                </div>
              </section>
            );
          })}
        </div>
      </div>

      {selectedProgram && (
        <ProgramDetailModal program={selectedProgram} onClose={() => setSelectedProgram(null)} />
      )}
    </>
  );
}
--- END FILE: app/student/programs/page.tsx ---

--- BEGIN FILE: app/student/quests/QuestDetailModal.tsx ---
// app/student/quests/QuestDetailModal.tsx

"use client";
import { useEffect, useRef, useState } from "react";
import { QuestTemplate } from "@/app/shared/CountryContext";
import { useProgress, ProgressItem } from "@/app/shared/ProgressContext";

type Props = {
  quest: QuestTemplate & {
    submission_type?: "none" | "text" | "link" | "file" | "credentials";
    submission_label?: string; // For simple types
    submission_fields?: { key: string; label: string }[]; // For complex types
  };
  onClose: () => void;
};

const MAX_FILE_SIZE_MB = 5;
const MAX_FILE_SIZE_BYTES = MAX_FILE_SIZE_MB * 1024 * 1024;

const UploadIcon = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    className="h-8 w-8 text-zinc-500"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
    strokeWidth={2}
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"
    />
  </svg>
);

const renderInput = (
  type: Props["quest"]["submission_type"],
  fields: Props["quest"]["submission_fields"],
  value: string,
  onTextChange: (value: string) => void,
  onFileChange: (e: React.ChangeEvent<HTMLInputElement>) => void,
  fileInputRef?: React.RefObject<HTMLInputElement | null>
) => {
  switch (type) {
    case "text":
      return (
        <input
          type="text"
          className="w-full rounded-xl border px-4 py-2 bg-white dark:bg-zinc-800"
          value={value}
          onChange={(e) => onTextChange(e.target.value)}
        />
      );
    case "link":
      return (
        <input
          type="url"
          className="w-full rounded-xl border px-4 py-2 bg-white dark:bg-zinc-800"
          value={value}
          onChange={(e) => onTextChange(e.target.value)}
        />
      );
    case "file":
      return (
        <label className="w-full h-32 flex flex-col items-center justify-center border-2 border-dashed border-zinc-300 dark:border-zinc-600 rounded-xl cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-800 transition">
          <UploadIcon />
          <span className="mt-2 text-sm text-zinc-600 dark:text-zinc-300">
            {value ? "–§–∞–π–ª –≤—ã–±—Ä–∞–Ω" : "–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª"}
          </span>
          <p className="text-xs text-zinc-400 mt-1">
            –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫–∞–Ω —á–µ—Ç–∫–∏–π –∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–∏–¥–Ω—ã
          </p>
          <input
            ref={fileInputRef}
            type="file"
            className="hidden"
            accept="application/pdf"
            onChange={onFileChange}
          />
        </label>
      );
    default:
      return null;
  }
};

export default function QuestDetailModal({ quest, onClose }: Props) {
  const { progress, submitQuest, uncompleteQuest, approveQuest } = useProgress();
  const [inputValue, setInputValue] = useState<any>(
    quest.submission_type === "credentials" ? {} : ""
  );
  const [validationError, setValidationError] = useState<string>("");
  const [isEditing, setIsEditing] = useState<boolean>(false);
  const fileInputRef = useRef<HTMLInputElement>(null);

  const questProgress: ProgressItem | undefined = progress[quest.id];

  useEffect(() => {
    setIsEditing(false);
    const defaultValue = quest.submission_type === "credentials" ? {} : "";
    if (questProgress && questProgress.submission != null) {
      setInputValue(questProgress.submission ?? defaultValue);
    } else {
      setInputValue(defaultValue);
    }
  }, [quest.id, questProgress, quest.submission_type]);

  const isSubmitDisabled = () => {
    if (questProgress?.status === 'done') return true; // –í—Å–µ–≥–¥–∞ –±–ª–æ–∫–∏—Ä—É–µ–º, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
    if (quest.submission_type === "none") return false;
    if (quest.submission_type === "credentials" && quest.submission_fields) {
      return quest.submission_fields.some((field) => !inputValue[field.key]);
    }
    if (validationError) return true;
    return !inputValue;
  };

  const handleSubmit = () => {
    if (isSubmitDisabled()) return;
    if (isEditing && questProgress) {
      uncompleteQuest(quest.id);
    }
    submitQuest(quest.id, inputValue);
    onClose();
  };

  const handleStartReplace = () => {
    setIsEditing(true);
    setValidationError("");
    setInputValue("");
    setTimeout(() => fileInputRef.current?.click(), 0);
  };

  const handleDelete = () => {
    if (!questProgress) return;
    const ok = confirm("–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π —Ñ–∞–π–ª? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π.");
    if (!ok) return;
    uncompleteQuest(quest.id);
    setValidationError("");
    setInputValue("");
    setIsEditing(false);
  };

  const handleApprove = () => {
    approveQuest(quest.id);
    onClose();
  };

  const handleOpenFile = () => {
    if (typeof questProgress?.submission === "string") {
      alert(`–°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞: ${questProgress.submission}`);
    }
  };

  const handleCredentialChange = (key: string, value: string) => {
    setInputValue((prev: object) => ({ ...prev, [key]: value }));
  };

  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    setValidationError("");

    if (!file) {
      setInputValue("");
      return;
    }

    if (file.type !== "application/pdf") {
      setValidationError("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF.");
      return;
    }

    if (file.size > MAX_FILE_SIZE_BYTES) {
      setValidationError(
        `–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å ${MAX_FILE_SIZE_MB} –ú–ë. –í—ã –º–æ–∂–µ—Ç–µ —Å–∂–∞—Ç—å –≤–∞—à PDF —Ñ–∞–π–ª.`
      );
      return;
    }

    setInputValue(file.name);
  };

  const showSubmitBlockedOverlay =
    quest.submission_type === "credentials" && !!questProgress && !isEditing;

  return (
    <div
      className="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"
      onClick={onClose}
    >
      <div className="w-full max-w-2xl card p-6" onClick={(e) => e.stopPropagation()}>
        <div className="flex items-start justify-between">
          <h2 className="text-xl font-semibold mb-2">{quest.title}</h2>
          <button onClick={onClose} className="text-2xl leading-none">
            &times;
          </button>
        </div>
        <div className="flex items-center gap-4 text-sm text-zinc-500 mb-4">
          <span>
            –ù–∞–≥—Ä–∞–¥–∞: <b className="text-yellow-500">{quest.xp} XP</b>
          </span>
          <span>
            –î–µ–¥–ª–∞–π–Ω: <b>{quest.deadline}</b>
          </span>
        </div>
        <div className="prose prose-zinc dark:prose-invert max-w-none text-zinc-700 dark:text-zinc-300 space-y-3">
          {quest.description.split("\n").map((line, index) => {
            if (line.trim() === "") return null;
            const boldRegex = /\*\*(.*?)\*\*/;
            const match = line.match(boldRegex);
            if (match) {
              const boldText = match[1];
              const remainingText = line.substring(match[0].length);
              return (
                <p key={index} className="!my-0">
                  <strong>{boldText}</strong>
                  {remainingText}
                </p>
              );
            }
            return (
              <p key={index} className="!my-0">
                {line}
              </p>
            );
          })}
        </div>

        <div className="mt-6 border-t pt-4">
          {/* --- –ù–û–í–û–ï: –ë–ª–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –æ—Ç –∫—É—Ä–∞—Ç–æ—Ä–∞ --- */}
          {questProgress?.status === 'changes_requested' && questProgress.comment && (
            <div className="mb-4 p-3 rounded-xl bg-amber-500/10 border border-amber-500/20">
              <h4 className="font-semibold text-amber-700 dark:text-amber-400 text-sm">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä–∞—Ç–æ—Ä–∞:</h4>
              <p className="text-xs text-amber-600 dark:text-amber-500 mt-1">
                {questProgress.comment}
              </p>
            </div>
          )}

          <h3 className="text-sm font-medium">–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>

          {quest.submission_type === "credentials" ? (
            <div className="my-3 space-y-3 relative">
              {showSubmitBlockedOverlay && (
                <div className="absolute inset-0 bg-white/80 dark:bg-zinc-900/80 z-10" />
              )}
              {quest.submission_fields?.map((field) => (
                <div key={field.key}>
                  <label className="block text-xs text-zinc-500 mb-1">
                    {field.label}
                  </label>
                  <input
                    type={field.key.includes("password") ? "password" : "text"}
                    className="w-full rounded-xl border px-4 py-2 bg-white dark:bg-zinc-800"
                    value={inputValue[field.key] || ""}
                    onChange={(e) =>
                      handleCredentialChange(field.key, e.target.value)
                    }
                  />
                </div>
              ))}
              {questProgress && !isEditing && (
                <div className="absolute inset-0 flex items-center justify-center z-20">
                  <div className="text-center p-4 bg-zinc-100 dark:bg-zinc-800 rounded-xl">
                    <div className="font-semibold">–î–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã</div>
                    <div className="text-xs text-zinc-500">
                      {typeof questProgress.submission === "object" &&
                      (questProgress.submission as any)?.email
                        ? `Email: ${(questProgress.submission as any).email}`
                        : "–§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É"}
                    </div>
                  </div>
                </div>
              )}
            </div>
          ) : quest.submission_type === "file" && questProgress && !isEditing ? (
            <div className="my-3 text-center">
              <p className="text-sm text-zinc-600 dark:text-zinc-300 mb-3">
                –í—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏ —Ñ–∞–π–ª: <b>{questProgress.submission}</b>
              </p>
              <div className="flex items-center justify-center gap-2">
                <button className="btn btn-primary" onClick={handleOpenFile}>
                  –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
                </button>
                {/* --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å 'done' --- */}
                {questProgress.status !== 'done' && (
                  <>
                    <button className="btn bg-amber-500/10 text-amber-600" onClick={handleStartReplace}>
                      –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª
                    </button>
                    <button className="btn bg-red-500/10 text-red-600" onClick={handleDelete}>
                      –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª
                    </button>
                  </>
                )}
              </div>
            </div>
          ) : quest.submission_type !== "none" ? (
            <div className="my-3">
              {quest.submission_label && (
                <label className="block text-xs text-zinc-500 mb-1">
                  {quest.submission_label}
                </label>
              )}
              {renderInput(
                quest.submission_type,
                quest.submission_fields,
                inputValue,
                setInputValue,
                handleFileChange,
                fileInputRef
              )}
              {quest.submission_type === "file" && inputValue && (
                <p className="text-xs text-zinc-500 mt-2 text-center">
                  –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª: <b>{inputValue}</b>
                </p>
              )}
              {validationError && (
                <div className="text-xs text-red-500 mt-2 text-center">
                  {validationError}
                  {validationError.includes("—Å–∂–∞—Ç—å") && (
                    <a
                      href="https://www.ilovepdf.com/ru/compress_pdf"
                      target="_blank"
                      rel="noopener noreferrer"
                      className="underline ml-1 font-semibold"
                    >
                      –∑–¥–µ—Å—å.
                    </a>
                  )}
                </div>
              )}
              {isEditing && quest.submission_type === "file" && (
                <div className="flex justify-center mt-3">
                  <button
                    className="btn bg-zinc-200 dark:bg-zinc-700"
                    onClick={() => {
                      setIsEditing(false);
                      setInputValue("");
                      setValidationError("");
                    }}
                  >
                    –û—Ç–º–µ–Ω–∞
                  </button>
                </div>
              )}
            </div>
          ) : (
            <p className="text-xs text-zinc-500 my-3">
              –î–ª—è —ç—Ç–æ–≥–æ –∫–≤–µ—Å—Ç–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –æ—Ç–º–µ—Ç–∏—Ç—å –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
            </p>
          )}

          <div className="flex items-center gap-3 mt-2">
            <button
              onClick={handleSubmit}
              disabled={isSubmitDisabled() || (!!questProgress && !isEditing)}
              className="flex-1 btn btn-primary disabled:bg-zinc-200 dark:disabled:bg-zinc-700 disabled:cursor-not-allowed"
            >
              {questProgress?.status === 'changes_requested'
                ? '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ'
                : questProgress?.status === 'done'
                ? "–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞"
                : questProgress && !isEditing
                ? "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É"
                : "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É" }
            </button>
            {/* --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å 'done' --- */}
            {questProgress && questProgress.status !== 'done' && (
              <button
                onClick={() => {
                  if (quest.submission_type === "file") {
                    handleStartReplace();
                  } else if (quest.submission_type === "credentials") {
                    uncompleteQuest(quest.id);
                    setInputValue({});
                  } else {
                    uncompleteQuest(quest.id);
                    setInputValue("");
                  }
                }}
                className="btn bg-red-500/10 text-red-500"
              >
                {quest.submission_type === "file"
                  ? "–ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª"
                  : quest.submission_type === "credentials"
                  ? "–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"
                  : "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–Ω–æ–≤–æ"}
              </button>
            )}
          </div>

          {questProgress?.status === "review" && (
            <p className="text-xs text-zinc-500 mt-3 text-center">
              –í–∞—à–∞ –∑–∞–¥–∞—á–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ —É –∫—É—Ä–∞—Ç–æ—Ä–∞. –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ–Ω–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—Å—è –≤
              "Done".
            </p>
          )}
          {questProgress?.status === "done" && (
            <p className="text-xs text-zinc-500 mt-3 text-center">
              –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏ –æ–¥–æ–±—Ä–µ–Ω–∞.
            </p>
          )}
        </div>
      </div>
    </div>
  );
}
--- END FILE: app/student/quests/QuestDetailModal.tsx ---

--- BEGIN FILE: app/student/quests/page.tsx ---
"use client";
import { useCountry } from "@/app/shared/CountryContext";
import { QuestTemplate } from "@/app/shared/CountryContext";
import { useProgress } from "@/app/shared/ProgressContext";
import { useState } from "react";
import QuestDetailModal from "./QuestDetailModal";

export default function QuestsPage() {
  const { quests, selectedCountry } = useCountry();
  const { progress } = useProgress();
  const [selectedQuest, setSelectedQuest] = useState<QuestTemplate | null>(null);

  if (!selectedCountry) return null;

  const required = new Set(selectedCountry.required_quest_ids);
  const filtered = quests.filter((q) => required.has(q.id));
  const byStage = filtered.reduce<Record<string, typeof filtered>>((acc, q) => {
    acc[q.stage] = acc[q.stage] || [];
    acc[q.stage].push(q);
    return acc;
  }, {});

  return (
    <>
      <div>
        <h1 className="text-2xl font-semibold mb-2">–ú–æ–∏ –ö–≤–µ—Å—Ç—ã</h1>
        <p className="text-zinc-600 dark:text-zinc-300 mb-6">
          –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Ñ–∏–ª—è —Å—Ç—Ä–∞–Ω—ã.
        </p>
        <div className="space-y-6">
          {Object.entries(byStage).map(([stage, items]) => (
            <section key={stage}>
              <h2 className="text-lg font-semibold mb-3">{stage}</h2>
              <ul className="grid sm:grid-cols-2 gap-3">
                {items.map((q) => {
                  const questProgress = progress[q.id];
                  const isDone = questProgress?.status === 'done';
                  const isReview = questProgress?.status === 'review';

                  return (
                    <li
                      key={q.id}
                      className="card p-4 transition hover:shadow-lg cursor-pointer"
                      onClick={() => setSelectedQuest(q)}
                    >
 <div className="flex items-start justify-between gap-4">
  <div>
 <div className={`font-medium ${isDone ? 'line-through text-zinc-500' : ''}`}>{q.title}</div>
 <div className="text-xs text-yellow-500 font-bold mt-1">XP: {q.xp}</div>
  </div>
 {isDone ? <div className="text-2xl" title="–í—ã–ø–æ–ª–Ω–µ–Ω–æ">‚úÖ</div> :
  isReview ? <div className="text-2xl" title="–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ">‚è≥</div> :
  <button className="btn btn-primary text-xs">–î–µ—Ç–∞–ª–∏</button>}
 </div>
                    </li>
                  ); 
                })}
              </ul>
            </section>
          ))}
        </div>
      </div>
      {selectedQuest && (
        <QuestDetailModal quest={selectedQuest} onClose={() => setSelectedQuest(null)} />
      )}
    </>
  );
}
--- END FILE: app/student/quests/page.tsx ---

--- BEGIN FILE: eslint.config.mjs ---
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
--- END FILE: eslint.config.mjs ---

--- BEGIN FILE: mock/countries.json ---
[
  {
    "id": "at",
    "name": "–ê–≤—Å—Ç—Ä–∏—è",
    "flag_icon": "üá¶üáπ",
    "required_document_ids": [101, 102, 201, 202, 203, 301, 302, 303, 401, 501, 502, 503, 504],
    "required_quest_ids": [1, 2, 10, 11, 12, 13, 20, 30]
  },
  {
    "id": "it",
    "name": "–ò—Ç–∞–ª–∏—è",
    "flag_icon": "üáÆüáπ",
    "required_document_ids": [101, 102, 201, 202, 203, 301, 302, 303, 401, 402, 501, 502, 503, 504],
    "required_quest_ids": [1, 2, 10, 11, 12, 13, 20, 21, 30]
  }
]
--- END FILE: mock/countries.json ---

--- BEGIN FILE: mock/document_templates.json ---
[
  { "id": 101, "category": "–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ", "title": "–ó–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç (–≥–ª–∞–≤–Ω—ã–π —Ä–∞–∑–≤–æ—Ä–æ—Ç)" },
  { "id": 102, "category": "–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ", "title": "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è (–∫–∞–∫ –Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç)" },

  { "id": 201, "category": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –®–∫–æ–ª–∞ (9 –∫–ª–∞—Å—Å–æ–≤)", "title": "–û—Ä–∏–≥–∏–Ω–∞–ª –∞—Ç—Ç–µ—Å—Ç–∞—Ç–∞ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º" },
  { "id": 202, "category": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –®–∫–æ–ª–∞ (9 –∫–ª–∞—Å—Å–æ–≤)", "title": "–ê–ø–æ—Å—Ç–∏–ª—å –Ω–∞ –∞—Ç—Ç–µ—Å—Ç–∞—Ç" },
  { "id": 203, "category": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –®–∫–æ–ª–∞ (9 –∫–ª–∞—Å—Å–æ–≤)", "title": "–ù–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –∞—Ç—Ç–µ—Å—Ç–∞—Ç–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º" },

  { "id": 301, "category": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –ö–æ–ª–ª–µ–¥–∂", "title": "–û—Ä–∏–≥–∏–Ω–∞–ª –¥–∏–ø–ª–æ–º–∞ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º" },
  { "id": 302, "category": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –ö–æ–ª–ª–µ–¥–∂", "title": "–ê–ø–æ—Å—Ç–∏–ª—å –Ω–∞ –¥–∏–ø–ª–æ–º" },
  { "id": 303, "category": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –ö–æ–ª–ª–µ–¥–∂", "title": "–ù–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –¥–∏–ø–ª–æ–º–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º" },

  { "id": 401, "category": "–Ø–∑—ã–∫ –∏ –≠–∫–∑–∞–º–µ–Ω—ã", "title": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç IELTS Academic" },
  { "id": 402, "category": "–Ø–∑—ã–∫ –∏ –≠–∫–∑–∞–º–µ–Ω—ã", "title": "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–∞ TOLC-I" },

  { "id": 501, "category": "–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã", "title": "–†–µ–∑—é–º–µ (CV)" },
  { "id": 502, "category": "–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã", "title": "–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ (–æ–±—â–∏–π —à–∞–±–ª–æ–Ω)" },
  { "id": 503, "category": "–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã", "title": "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ #1" },
  { "id": 504, "category": "–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã", "title": "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ #2" }
]
--- END FILE: mock/document_templates.json ---

--- BEGIN FILE: mock/programs.json ---
[
  {
    "id": 1001,
    "title": "–ë–∞–∫–∞–ª–∞–≤—Ä: –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –Ω–∞—É–∫–∏",
    "university_id": "tu_wien",
    "deadline": "2026-02-15",
    "link": "https://www.tuwien.at/en/studies/admission/bachelors-programmes-with-selection-procedure-or-entrance-exam/computer-sciences/",
    "image_url": "https://www.educationcenter.cz/assets/images/ru/blog/vsyo-chto-nuzhno-znat-o-venskom-tehnicheskom-universitete-TU-Wien/vsyo-chto-nuzhno-znat-o-venskom-tehnicheskom-universitete-TU-Wien.jpg",
    "required_document_ids": [501, 502, 503]
  },
  {
    "id": 1002,
    "title": "–ë–∞–∫–∞–ª–∞–≤—Ä: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
    "university_id": "tu_wien",
    "deadline": "2026-03-01",
    "link": "https://www.tuwien.at/en/studies/studies/bachelors-programmes/architecture-033-243/",
    "image_url": "https://www.educationcenter.cz/assets/images/ru/blog/vsyo-chto-nuzhno-znat-o-venskom-tehnicheskom-universitete-TU-Wien/vsyo-chto-nuzhno-znat-o-venskom-tehnicheskom-universitete-TU-Wien.jpg",
    "required_document_ids": [501, 502, 504]
  },
  {
    "id": 2001,
    "title": "Bachelor: Genomics",
    "university_id": "unibo",
    "deadline": "2026-04-10",
    "link": "https://www.unibo.it/en/teaching/course-unit-catalogue/course-unit/2023/46231",
    "image_url": "https://static.tildacdn.pro/tild3530-6661-4735-b266-323538636333/9873e9ee7f00010176f0.jpg",
    "required_document_ids": [501, 502, 402]
  }
]
--- END FILE: mock/programs.json ---

--- BEGIN FILE: mock/quest_templates.json ---
[
  {
    "id": 1,
    "stage": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
    "title": "–°–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ—á—Ç—É Gmail",
    "xp": 20,
    "description": "–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç Gmail —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é –∫–∞–∫ –≤ –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–µ. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—ã –∏ –ø–æ—Ç–µ—Ä–∏ –≤–∞–∂–Ω—ã—Ö –ø–∏—Å–µ–º –æ—Ç —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –∏ –≤–∏–∑–æ–≤—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤.",
    "deadline": "2025-11-10",
    "links_to_document_id": null,
    "submission_type": "credentials",
    "submission_fields": [
      { "key": "email", "label": "–õ–æ–≥–∏–Ω (email)" },
      { "key": "password", "label": "–ü–∞—Ä–æ–ª—å" }
    ]
  },
  {
    "id": 2,
    "stage": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
    "title": "–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –≤ –æ–±–ª–∞–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏",
    "xp": 20,
    "description": "–í–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π –∞—Ä—Ö–∏–≤ ‚Äî –∑–∞–ª–æ–≥ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:\n\n1. **–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:** Google Drive –∏–ª–∏ Dropbox –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥–æ–π–¥—É—Ç.\n2. **–°–æ–∑–¥–∞–π—Ç–µ –≥–ª–∞–≤–Ω—É—é –ø–∞–ø–∫—É:** –ù–∞–∑–æ–≤–∏—Ç–µ –µ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è 2026¬ª.\n3. **–û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:** –í–Ω—É—Ç—Ä–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥–ø–∞–ø–∫–∏: ¬´–ü–∞—Å–ø–æ—Ä—Ç¬ª, ¬´–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ¬ª, ¬´–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã¬ª, ¬´–§–æ—Ç–æ¬ª –∏ —Ç.–¥. –≠—Ç–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç –≤–∞–º –º–∞—Å—Å—É –≤—Ä–µ–º–µ–Ω–∏ –≤ –±—É–¥—É—â–µ–º.",
    "deadline": "2025-10-30",
    "links_to_document_id": null,
    "submission_type": "link",
    "submission_label": "–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–∞–ø–∫—É –≤ –æ–±–ª–∞–∫–µ"
  },
  {
    "id": 10,
    "stage": "–õ–∏—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "title": "–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç",
    "xp": 30,
    "description": "–°–¥–µ–ª–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç–Ω–æ–π —Å–∫–∞–Ω –∏–ª–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –≥–ª–∞–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –≤–∞—à–µ–≥–æ –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–∞. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö–æ—Ä–æ—à–æ —á–∏—Ç–∞–µ–º—ã, –Ω–µ—Ç –±–ª–∏–∫–æ–≤ –∏ –ø–∞–ª—å—Ü–µ–≤ –≤ –∫–∞–¥—Ä–µ.",
    "deadline": "2025-11-20",
    "links_to_document_id": 101,
    "submission_type": "file",
    "submission_label": "–§–∞–π–ª –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–∞"
  },
  {
    "id": 11,
    "stage": "–õ–∏—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "title": "–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ –∫–∞–∫ –Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç",
    "xp": 30,
    "description": "–°–¥–µ–ª–∞–π—Ç–µ —Ü–∏—Ñ—Ä–æ–≤—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –ø–∞—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ (–æ–±—ã—á–Ω–æ 3.5x4.5 —Å–º) –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ. –û–Ω–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –∞–Ω–∫–µ—Ç –∏ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ –±–∏–ª–µ—Ç–∞.",
    "deadline": "2025-11-25",
    "links_to_document_id": 102,
    "submission_type": "file",
    "submission_label": "–§–∞–π–ª —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π"
  },
  {
    "id": 12,
    "stage": "–õ–∏—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "title": "–°–æ–±—Ä–∞—Ç—å —à–∫–æ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º –∏ –ø–µ—Ä–µ–≤–æ–¥–æ–º",
    "xp": 50,
    "description": "–≠—Ç–æ –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π –∫–≤–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –í–æ—Ç –≤–∞—à –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:\n\n**1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –Ω–∞ —Ä—É–∫–∞—Ö –µ—Å—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª —à–∫–æ–ª—å–Ω–æ–≥–æ –∞—Ç—Ç–µ—Å—Ç–∞—Ç–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –æ—Ü–µ–Ω–∫–∞–º–∏.\n**2. –ü—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ê–ø–æ—Å—Ç–∏–ª—è:** –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç (–∏–ª–∏ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ) –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è. –ò–º–µ–Ω–Ω–æ –æ–Ω–∏ —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω—ã —Å—Ç–∞–≤–∏—Ç—å –∞–ø–æ—Å—Ç–∏–ª—å –Ω–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã. –£—Ç–æ—á–Ω–∏—Ç–µ –∏—Ö –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–∏–µ–º–∞ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–æ–±—ã—á–Ω–æ –ø–∞—Å–ø–æ—Ä—Ç –∏ –∑–∞—è–≤–ª–µ–Ω–∏–µ).\n**3. –ù–æ—Ç–∞—Ä–∏–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥:** –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º, –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–∏—Å—è–∂–Ω–æ–≥–æ –∏–ª–∏ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞. –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–≤–æ–¥ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–º, –∞ –∑–∞—Ç–µ–º –Ω–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ —Å–∞–º –¥–æ–∫—É–º–µ–Ω—Ç, —Ç–∞–∫ –∏ —à—Ç–∞–º–ø –∞–ø–æ—Å—Ç–∏–ª—è.",
    "deadline": "2025-12-15",
    "links_to_document_id": 201,
    "submission_type": "file",
    "submission_label": "PDF-—Ñ–∞–π–ª –∞—Ç—Ç–µ—Å—Ç–∞—Ç–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º –∏ –ø–µ—Ä–µ–≤–æ–¥–æ–º"
  },
  {
    "id": 13,
    "stage": "–õ–∏—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "title": "–°–æ–±—Ä–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–æ–ª–ª–µ–¥–∂–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º –∏ –ø–µ—Ä–µ–≤–æ–¥–æ–º",
    "xp": 50,
    "description": "–ü—Ä–æ—Ü–µ—Å—Å –¥–ª—è –¥–∏–ø–ª–æ–º–∞ –∫–æ–ª–ª–µ–¥–∂–∞ –∏–ª–∏ —Ç–µ—Ö–Ω–∏–∫—É–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∫–≤–µ—Å—Ç —Å–æ —à–∫–æ–ª—å–Ω—ã–º –∞—Ç—Ç–µ—Å—Ç–∞—Ç–æ–º. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π —Ç–æ—Ç –∂–µ:\n\n**1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞:** –í–æ–∑—å–º–∏—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª –¥–∏–ø–ª–æ–º–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫ –Ω–µ–º—É.\n**2. –ü—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ê–ø–æ—Å—Ç–∏–ª—è:** –ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç (–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ) –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è. –û–Ω–∏ –ø–æ—Å—Ç–∞–≤—è—Ç –∞–ø–æ—Å—Ç–∏–ª—å –Ω–∞ –¥–∏–ø–ª–æ–º, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–≤ –µ–≥–æ –ª–µ–≥–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π.\n**3. –ù–æ—Ç–∞—Ä–∏–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥:** –° –≥–æ—Ç–æ–≤—ã–º –∞–ø–æ—Å—Ç–∏–ª–µ–º –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω–æ–º—É –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ —è–∑—ã–∫ —Ü–µ–ª–µ–≤–æ–π —Å—Ç—Ä–∞–Ω—ã.",
    "deadline": "2025-12-15",
    "links_to_document_id": 301,
    "submission_type": "file",
    "submission_label": "PDF-—Ñ–∞–π–ª –¥–∏–ø–ª–æ–º–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º –∏ –ø–µ—Ä–µ–≤–æ–¥–æ–º"
  },
  {
    "id": 20,
    "stage": "–≠–∫–∑–∞–º–µ–Ω—ã",
    "title": "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å–¥–∞—Ç—å IELTS Academic",
    "xp": 80,
    "description": "–≠—Ç–æ –≤–∞–∂–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–π –≤–∞—à–µ –≤–ª–∞–¥–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º —è–∑—ã–∫–æ–º. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:\n\n**1. –ü–æ–∏—Å–∫ —Ü–µ–Ω—Ç—Ä–∞:** –ù–∞–π–¥–∏—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä —Å–¥–∞—á–∏ IELTS –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Å–∞–π—Ç–∞—Ö British Council –∏–ª–∏ IDP).\n**2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —ç–∫–∑–∞–º–µ–Ω–∞ 'Academic' –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —É–¥–æ–±–Ω—É—é –¥–ª—è –≤–∞—Å –¥–∞—Ç—É. –ú–µ—Å—Ç–∞ –º–æ–≥—É—Ç –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è, –ø–æ—ç—Ç–æ–º—É –¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ –∑–∞—Ä–∞–Ω–µ–µ.\n**3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏, —á—Ç–æ–±—ã –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –∏ —Ç–∏–ø–∞–º–∏ –∑–∞–¥–∞–Ω–∏–π. –¶–µ–ª—å—Ç–µ—Å—å –≤ –±–∞–ª–ª –Ω–µ –Ω–∏–∂–µ 6.5, –µ—Å–ª–∏ –∏–Ω–æ–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–º.",
    "deadline": "2026-01-30",
    "links_to_document_id": 401,
    "submission_type": "file",
    "submission_label": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç IELTS"
  },
  {
    "id": 21,
    "stage": "–≠–∫–∑–∞–º–µ–Ω—ã",
    "title": "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å–¥–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω TOLC-I",
    "xp": 100,
    "description": "TOLC-I ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–º –∏ –Ω–∞—É—á–Ω—ã–º —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞–º –≤ –ò—Ç–∞–ª–∏–∏. –í–∞—à –ø–ª–∞–Ω:\n\n**1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ CISIA:** –ó–∞–π–¥–∏—Ç–µ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç CISIA Online, —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–µ—Å—Ç–∞ 'TOLC-I'.\n**2. –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∞:** –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —Å–¥–∞—á—É –æ–Ω–ª–∞–π–Ω (TOLC@CASA) –∏–ª–∏ –≤ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω–æ–º —Ü–µ–Ω—Ç—Ä–µ. –í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–ª–æ—Ç.\n**3. –ò–∑—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** –≠–∫–∑–∞–º–µ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–µ–∫—Ü–∏–π: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –õ–æ–≥–∏–∫–∞, –ù–∞—É–∫–∏ –∏ –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ç–µ–º–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–¥–∞–Ω–∏–π –Ω–∞ —Å–∞–π—Ç–µ CISIA, —á—Ç–æ–±—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è.",
    "deadline": "2026-02-20",
    "links_to_document_id": 402,
    "submission_type": "file",
    "submission_label": "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã TOLC-I"
  },
  {
    "id": 30,
    "stage": "–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å CV –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ",
    "xp": 60,
    "description": "–≠—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã ‚Äî –≤–∞—à–µ –ª–∏—Ü–æ –ø–µ—Ä–µ–¥ –ø—Ä–∏–µ–º–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–µ–π. –°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–º—É –ø–ª–∞–Ω—É:\n\n**1. –†–µ–∑—é–º–µ (CV):** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç 'Europass'. –≠—Ç–æ –æ–Ω–ª–∞–π–Ω-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å), –Ω–∞–≤—ã–∫–∏, —è–∑—ã–∫–∏.\n**2. –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ:** –ù–∞–ø–∏—à–∏—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω (–æ–∫–æ–ª–æ 500 —Å–ª–æ–≤), –≥–¥–µ –≤—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç–µ –æ —Å–µ–±–µ, —Å–≤–æ–∏—Ö –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –∏ –ø–æ—á–µ–º—É –≤—ã –≤—ã–±—Ä–∞–ª–∏ —ç—Ç—É —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å. –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –≤—ã –±—É–¥–µ—Ç–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.",
    "deadline": "2026-02-10",
    "links_to_document_id": 501,
    "submission_type": "file",
    "submission_label": "–§–∞–π–ª —Å CV –∏ –ø–∏—Å—å–º–æ–º"
  }
]
--- END FILE: mock/quest_templates.json ---

--- BEGIN FILE: mock/student_progress.json ---
{
  "1": {
    "1": { "status": "done", "submission": { "email": "artem.g@example.com", "password": "..." } },
    "2": { "status": "review", "submission": "https://link-to-drive.com" },
    "10": { "status": "done", "submission": "passport_artem.pdf" },
    "11": { "status": "done", "submission": "photo_artem.jpg" },
    "21": { "status": "done", "submission": "tolc_results.pdf" }
  },
  "2": {
    "1": { "status": "done", "submission": { "email": "veronika.s@example.com", "password": "..." } },
    "10": { "status": "review", "submission": "passport_veronika.pdf" },
    "12": { "status": "done", "submission": "school_docs_veronika.pdf" }
  },
  "3": {
     "1": { "status": "review", "submission": { "email": "ivan.p@example.com", "password": "..." } }
  }
}
--- END FILE: mock/student_progress.json ---

--- BEGIN FILE: mock/students.json ---
[
  {
    "id": 1,
    "name": "–ê—Ä—Ç—ë–º –ì–∞–Ω–µ–µ–≤",
    "email": "artem.g@example.com",
    "country_id": "it",
    "gpa": 4.04,
    "ielts_score": 6.0,
    "selected_program_ids": [1001, 2001]
  },
  {
    "id": 2,
    "name": "–í–µ—Ä–æ–Ω–∏–∫–∞ –°–º–∏—Ä–Ω–æ–≤–∞",
    "email": "veronika.s@example.com",
    "country_id": "at",
    "gpa": 4.5,
    "ielts_score": 6.5,
    "selected_program_ids": [1001, 1002]
  },
  {
    "id": 3,
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan.p@example.com",
    "country_id": "at",
    "gpa": 3.8,
    "ielts_score": 5.5,
    "selected_program_ids": [1002]
  }
]
--- END FILE: mock/students.json ---

--- BEGIN FILE: mock/universities.json ---
[
  {
    "id": "tu_wien",
    "name": "–í–µ–Ω—Å–∫–∏–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç (TU Wien)",
    "logo_url": "üéì",
    "program_ids": [1001, 1002]
  },
  {
    "id": "unibo",
    "name": "–ë–æ–ª–æ–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç (Universit√† di Bologna)",
    "logo_url": "üèõÔ∏è",
    "program_ids": [2001]
  }
]
--- END FILE: mock/universities.json ---

--- BEGIN FILE: mock/university_profiles.json ---
[
  {
    "universityId": "tu_wien",
    "countryId": "at",
    "assignedQuests": [
      {
        "id": 1,
        "stage": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
        "title": "–°–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ—á—Ç—É Gmail",
        "xp": 20,
        "description": "–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç Gmail —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é –∫–∞–∫ –≤ –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–µ."
      },
      {
        "id": 10,
        "stage": "–õ–∏—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
        "title": "–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç",
        "xp": 30,
        "description": "–°–¥–µ–ª–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç–Ω–æ–π —Å–∫–∞–Ω –∏–ª–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –≥–ª–∞–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –≤–∞—à–µ–≥–æ –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–∞."
      }
    ]
  },
  {
    "universityId": "unibo",
    "countryId": "it",
    "assignedQuests": [
      {
        "id": 1,
        "stage": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
        "title": "–°–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ—á—Ç—É Gmail",
        "xp": 20,
        "description": "–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç Gmail —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é –∫–∞–∫ –≤ –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–µ."
      },
      {
        "id": 21,
        "stage": "–≠–∫–∑–∞–º–µ–Ω—ã",
        "title": "–°–¥–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω TOLC-I (–¥–ª—è –ë–æ–ª–æ–Ω—å–∏)",
        "xp": 120,
        "description": "TOLC-I ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–º –∏ –Ω–∞—É—á–Ω—ã–º —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞–º –≤ –ò—Ç–∞–ª–∏–∏. –î–ª—è –ë–æ–ª–æ–Ω—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Å–æ–±—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ."
      }
    ]
  }
]
--- END FILE: mock/university_profiles.json ---

--- BEGIN FILE: next-env.d.ts ---
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.
--- END FILE: next-env.d.ts ---

--- BEGIN FILE: next.config.ts ---
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;
--- END FILE: next.config.ts ---

--- BEGIN FILE: package.json ---
{
  "name": "my-abiturient",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev --webpack",
    "build": "next build --webpack",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "react": "19.2.0",
    "react-dom": "19.2.0",
    "next": "16.0.0"
  },
  "devDependencies": {
    "typescript": "^5",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@tailwindcss/postcss": "^4",
    "tailwindcss": "^4",
    "eslint": "^9",
    "eslint-config-next": "16.0.0"
  }
}
--- END FILE: package.json ---

--- BEGIN FILE: postcss.config.mjs ---
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
--- END FILE: postcss.config.mjs ---

--- BEGIN FILE: tsconfig.json ---
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts",
    "mock/**/*.json"
  ],
  "exclude": ["node_modules"]
}
--- END FILE: tsconfig.json ---

--- BEGIN FILE: tz.md ---

# **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ó–∞–¥–∞–Ω–∏–µ (–¢–ó) v4.0: –û–° "Applicant" (–ú—É–ª—å—Ç–∏-—Å—Ç—Ä–∞–Ω–æ–≤–∞—è –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –°–∏—Å—Ç–µ–º–∞)**

**–í–µ—Ä—Å–∏—è:** 4.0 (–§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –ø–æ–¥ —Å—Ç—Ä–∞–Ω—É –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è)
**–î–∞—Ç–∞:** 24.10.2025
**–ü—Ä–∏–Ω—Ü–∏–ø:** "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–≤–µ—Å—Ç –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ü–µ–ª–∏"

## **1. –ö–ª—é—á–µ–≤—ã–µ –°—É—â–Ω–æ—Å—Ç–∏ –∏ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

### **1.1. –ù–æ–≤–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –Ø–¥—Ä–æ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
–°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ **"–ü—Ä–æ—Ñ–∏–ª–µ–π –°—Ç—Ä–∞–Ω"**. –≠—Ç–æ –Ω–∞–±–æ—Ä—ã –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –∫–≤–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –±—É–¥–µ—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–º —Å—Ç—Ä–∞–Ω—ã.

### **1.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö (Mock JSON)**

```json
// --- –§–∞–π–ª: /mock/countries.json (–ü—Ä–æ—Ñ–∏–ª–∏ –°—Ç—Ä–∞–Ω) ---
[
  {
    "id": "at",
    "name": "–ê–≤—Å—Ç—Ä–∏—è",
    "flag_icon": "üá¶üáπ",
    "required_document_ids": [101, 102, 201, 202, 203, 301, 302, 303, 401, 501, 502, 503, 504],
    "required_quest_ids": [1, 2, 10, 11, 12, 13, 20, 30]
  },
  {
    "id": "it",
    "name": "–ò—Ç–∞–ª–∏—è",
    "flag_icon": "üáÆüáπ",
    "required_document_ids": [101, 102, 201, 202, 203, 301, 302, 303, 401, 402, 501, 502, 503, 504],
    "required_quest_ids": [1, 2, 10, 11, 12, 13, 20, 21, 30]
  }
]

// --- –§–∞–π–ª: /mock/document_templates.json (–ì–ª–æ–±–∞–ª—å–Ω–∞—è –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –î–æ–∫—É–º–µ–Ω—Ç–æ–≤) ---
[
  {"id": 101, "category": "–õ–∏—á–Ω—ã–µ", "title": "–ó–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç (–≥–ª–∞–≤–Ω—ã–π —Ä–∞–∑–≤–æ—Ä–æ—Ç)"},
  {"id": 102, "category": "–õ–∏—á–Ω—ã–µ", "title": "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è (–∫–∞–∫ –Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç)"},
  // ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
  {"id": 402, "category": "–≠–∫–∑–∞–º–µ–Ω—ã", "title": "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–∞ TOLC-I"}
]

// --- –§–∞–π–ª: /mock/quest_templates.json (–ì–ª–æ–±–∞–ª—å–Ω–∞—è –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ö–≤–µ—Å—Ç–æ–≤) ---
[
  {"id": 1, "stage": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞", "title": "–°–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ—á—Ç—É Gmail", "xp": 20, "links_to_document_id": null},
  // ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
  {"id": 21, "stage": "–≠–∫–∑–∞–º–µ–Ω—ã", "title": "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å–¥–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω TOLC-I", "xp": 100, "links_to_document_id": 402}
]
```

## **2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ü—É—Ç—å –°—Ç—É–¥–µ–Ω—Ç–∞ (–ò–≥—Ä–æ–∫–∞)**

### **2.1. –ü–µ—Ä–≤—ã–π –í—Ö–æ–¥ –∏ –û–Ω–±–æ—Ä–¥–∏–Ω–≥**
*   **–ù–æ–≤—ã–π —à–∞–≥:** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–µ—Ç –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å:
    > **"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –û–ø–µ—Ä–∞—Ü–∏—é '–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ'! –í—ã–±–µ—Ä–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç—Ä–∞–Ω—É, —Å –∫–æ—Ç–æ—Ä–æ–π –º—ã –Ω–∞—á–Ω–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É."**
*   **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å–æ —Å—Ç—Ä–∞–Ω–∞–º–∏ (`–ê–≤—Å—Ç—Ä–∏—è`, `–ò—Ç–∞–ª–∏—è` –∏ —Ç.–¥.).
*   **–î–µ–π—Å—Ç–≤–∏–µ:** –í—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π `CountryProfile` –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### **2.2. –õ–∏—á–Ω—ã–π –ö–∞–±–∏–Ω–µ—Ç –°—Ç—É–¥–µ–Ω—Ç–∞: "–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –®—Ç–∞–±"**
*   **URL:** `/student/dashboard`
*   **–°–∞–π–¥–±–∞—Ä –ù–∞–≤–∏–≥–∞—Ü–∏–∏ (–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π):**
    *   **–í —Å–∞–º–æ–º –≤–µ—Ä—Ö—É:** –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å—Ç—Ä–∞–Ω.
        *   `–¢–ï–ö–£–©–ê–Ø –û–ü–ï–†–ê–¶–ò–Ø: [ üá¶üáπ –ê–≤—Å—Ç—Ä–∏—è ‚ñº ]`
        *   –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω, –ø–æ–∑–≤–æ–ª—è—è —Å—Ç—É–¥–µ–Ω—Ç—É –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç "–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å" –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω—ã.
    *   **–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** `–ì–ª–∞–≤–Ω–∞—è`, `–ú–æ–∏ –ö–≤–µ—Å—Ç—ã`, `–ú–æ–π –ê—Ä—Å–µ–Ω–∞–ª` –∏ —Ç.–¥.

### **2.3. –≠–∫—Ä–∞–Ω "–ú–æ–∏ –ö–≤–µ—Å—Ç—ã": –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –°–ø–∏—Å–æ–∫ –ó–∞–¥–∞—á**
*   **URL:** `/student/quests`
*   **–õ–æ–≥–∏–∫–∞:** –≠–∫—Ä–∞–Ω **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–≤–µ—Å—Ç–æ–≤** –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã.
    1.  –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é —Å—Ç—Ä–∞–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ê–≤—Å—Ç—Ä–∏—è`).
    2.  –ë–µ—Ä–µ—Ç –∏–∑ `countries.json` –º–∞—Å—Å–∏–≤ `required_quest_ids` –¥–ª—è –ê–≤—Å—Ç—Ä–∏–∏.
    3.  –ò–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `quest_templates.json` –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Ç–µ –∫–≤–µ—Å—Ç—ã**, ID –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –≤ —ç—Ç–æ–º –º–∞—Å—Å–∏–≤–µ.
*   **–ü—Ä–∏–º–µ—Ä:**
    *   **–ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ üá¶üáπ –ê–≤—Å—Ç—Ä–∏—è:** –°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç –∫–≤–µ—Å—Ç—ã –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –ê–ø–æ—Å—Ç–∏–ª—è, —Å–¥–∞—á–µ IELTS, –Ω–∞–ø–∏—Å–∞–Ω–∏—é –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–∏—Å—å–º–∞. **–ö–≤–µ—Å—Ç–∞ –ø—Ä–æ TOLC-I –≤ —Å–ø–∏—Å–∫–µ –ù–ï–¢.**
    *   **–ï—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ üáÆüáπ –ò—Ç–∞–ª–∏—é:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –∏ –≤ —Å–ø–∏—Å–∫–µ –∫–≤–µ—Å—Ç–æ–≤ **–ø–æ—è–≤–ª—è–µ—Ç—Å—è** `–ö–≤–µ—Å—Ç: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å–¥–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω TOLC-I"`.

#### **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ö–≤–µ—Å—Ç–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –Ω–æ –∫–æ–Ω—Ç–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π):**
*   **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –°–ø–∏—Å–æ–∫ —Ä–∞–∑–¥–µ–ª–æ–≤ (`–≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞`, `–≠—Ç–∞–ø 2: –õ–∏—á–Ω—ã–µ –î–æ–∫—É–º–µ–Ω—Ç—ã` –∏ —Ç.–¥.).
*   **–ö–∞—Ä—Ç–æ—á–∫–∞ –ö–≤–µ—Å—Ç–∞:** –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º, —á–µ–∫-–ª–∏—Å—Ç–æ–º, –Ω–∞–≥—Ä–∞–¥–æ–π –≤ XP –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –ë–∞–∑—É –ó–Ω–∞–Ω–∏–π.

### **2.4. –≠–∫—Ä–∞–Ω "–ú–æ–π –ê—Ä—Å–µ–Ω–∞–ª": –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ß–µ–∫-–ª–∏—Å—Ç –î–æ–∫—É–º–µ–Ω—Ç–æ–≤**
*   **URL:** `/student/arsenal`
*   **–õ–æ–≥–∏–∫–∞:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞ —ç–∫—Ä–∞–Ω—É "–ú–æ–∏ –ö–≤–µ—Å—Ç—ã". –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏**.
    1.  –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é —Å—Ç—Ä–∞–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ò—Ç–∞–ª–∏—è`).
    2.  –ë–µ—Ä–µ—Ç –∏–∑ `countries.json` –º–∞—Å—Å–∏–≤ `required_document_ids` –¥–ª—è –ò—Ç–∞–ª–∏–∏.
    3.  –ò–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `document_templates.json` –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –ò—Ç–∞–ª–∏—é.
*   **–ü—Ä–∏–º–µ—Ä:**
    *   **–ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ üá¶üáπ –ê–≤—Å—Ç—Ä–∏—è:** –í –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–≠–∫–∑–∞–º–µ–Ω—ã" –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ —Å–ª–æ—Ç –¥–ª—è `–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç IELTS Academic`.
    *   **–ï—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ üáÆüáπ –ò—Ç–∞–ª–∏—é:** –í –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–≠–∫–∑–∞–º–µ–Ω—ã" –ø–æ—è–≤–ª—è—é—Ç—Å—è **–î–í–ê** —Å–ª–æ—Ç–∞: `–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç IELTS Academic` –∏ `–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–∞ TOLC-I`.

#### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ê—Ä—Å–µ–Ω–∞–ª–∞ (–æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Ç–≤–æ–µ–º –ø–æ–ª–Ω–æ–º –∫–µ–π—Å–µ):**

##### **–î–ª—è —Å—Ç—Ä–∞–Ω—ã: üá¶üáπ –ê–≤—Å—Ç—Ä–∏—è**
*   **–ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"**
    1.  `–ó–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç (–≥–ª–∞–≤–Ω—ã–π —Ä–∞–∑–≤–æ—Ä–æ—Ç)`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    2.  `–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è (–∫–∞–∫ –Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç)`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
*   **–ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –®–∫–æ–ª–∞ (9 –∫–ª–∞—Å—Å–æ–≤)"**
    3.  `–û—Ä–∏–≥–∏–Ω–∞–ª –∞—Ç—Ç–µ—Å—Ç–∞—Ç–∞ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    4.  `–ê–ø–æ—Å—Ç–∏–ª—å –Ω–∞ –∞—Ç—Ç–µ—Å—Ç–∞—Ç`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    5.  `–ù–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –∞—Ç—Ç–µ—Å—Ç–∞—Ç–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
*   **–ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: –ö–æ–ª–ª–µ–¥–∂"**
    6.  `–û—Ä–∏–≥–∏–Ω–∞–ª –¥–∏–ø–ª–æ–º–∞ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    7.  `–ê–ø–æ—Å—Ç–∏–ª—å –Ω–∞ –¥–∏–ø–ª–æ–º`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    8.  `–ù–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –¥–∏–ø–ª–æ–º–∞ —Å –∞–ø–æ—Å—Ç–∏–ª–µ–º`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
*   **–ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–Ø–∑—ã–∫ –∏ –≠–∫–∑–∞–º–µ–Ω—ã"**
    9.  `–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç IELTS Academic`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
*   **–ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã"**
    10. `–†–µ–∑—é–º–µ (CV)`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    11. `–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ (–æ–±—â–∏–π —à–∞–±–ª–æ–Ω)`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    12. `–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ #1`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    13. `–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ #2`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]

##### **–î–ª—è —Å—Ç—Ä–∞–Ω—ã: üáÆüáπ –ò—Ç–∞–ª–∏—è (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û –æ—Ç–ª–∏—á–∏—è)**
*   **–ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–Ø–∑—ã–∫ –∏ –≠–∫–∑–∞–º–µ–Ω—ã"**
    9.  `–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç IELTS Academic`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
    10. **(–ù–û–í–´–ô)** `–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–∞ TOLC-I`: [ –°–ª–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ]
*   *–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∞–≤—Å—Ç—Ä–∏–π—Å–∫–∏–º.*

## **3. –≠–∫—Ä–∞–Ω—ã –†–æ–ª–∏ "–ö—É—Ä–∞—Ç–æ—Ä" (–ì–µ–π–º-–º–∞—Å—Ç–µ—Ä)**

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫—É—Ä–∞—Ç–æ—Ä–∞ —Ç–∞–∫–∂–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º.

### **3.1. –ö–∞–±–∏–Ω–µ—Ç –°—Ç—É–¥–µ–Ω—Ç–∞ (–≥–ª–∞–∑–∞–º–∏ –ö—É—Ä–∞—Ç–æ—Ä–∞)**
*   **–ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç:** –ö—É—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç, –∫–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∞ —Å–µ–π—á–∞—Å –≤—ã–±—Ä–∞–Ω–∞ —É —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–π.
*   **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ö–æ–≥–¥–∞ –∫—É—Ä–∞—Ç–æ—Ä –∑–∞—Ö–æ–¥–∏—Ç –≤ —Ä–∞–∑–¥–µ–ª—ã "–ö–≤–µ—Å—Ç—ã" –∏–ª–∏ "–ê—Ä—Å–µ–Ω–∞–ª" —Å—Ç—É–¥–µ–Ω—Ç–∞, –æ–Ω –≤–∏–¥–∏—Ç **—Ç–æ—Ç –∂–µ —Å–∞–º—ã–π, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —Å—Ç—Ä–∞–Ω–µ —Å–ø–∏—Å–æ–∫**, —á—Ç–æ –∏ —Å—Ç—É–¥–µ–Ω—Ç. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–Ω–∏ –æ–±–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –Ω–∞–±–æ—Ä–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.

### **3.2. –ù–æ–≤—ã–π –†–∞–∑–¥–µ–ª –¥–ª—è –ö—É—Ä–∞—Ç–æ—Ä–∞: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –°—Ç—Ä–∞–Ω"**
*   **URL:** `/curator/admin/countries`
*   **–û–ø–∏—Å–∞–Ω–∏–µ:** –≠—Ç–æ "–º–æ–∑–≥" –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã. –ó–¥–µ—Å—å –∫—É—Ä–∞—Ç–æ—Ä (–∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä) —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å –±–µ–∑ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
*   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
    1.  **–°–ø–∏—Å–æ–∫ –°—Ç—Ä–∞–Ω:** –¢–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∞–º–∏ (`–ê–≤—Å—Ç—Ä–∏—è`, `–ò—Ç–∞–ª–∏—è`). –ö–Ω–æ–ø–∫–∞ `[ + –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω—É ]`.
    2.  **–†–µ–¥–∞–∫—Ç–æ—Ä –ü—Ä–æ—Ñ–∏–ª—è –°—Ç—Ä–∞–Ω—ã:** –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Ç—Ä–∞–Ω—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä.
        *   **–ù–∞–∑–≤–∞–Ω–∏–µ:** `–ê–≤—Å—Ç—Ä–∏—è`
        *   **–ë–ª–æ–∫ "–¢—Ä–µ–±—É–µ–º—ã–µ –î–æ–∫—É–º–µ–Ω—Ç—ã":**
            *   –î–≤–∞ —Å–ø–∏—Å–∫–∞: —Å–ª–µ–≤–∞ ‚Äî "–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ", —Å–ø—Ä–∞–≤–∞ ‚Äî "–î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ê–≤—Å—Ç—Ä–∏–∏".
            *   –ö—É—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–µ–∂–¥—É —Å–ø–∏—Å–∫–∞–º–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ–∫-–±–æ–∫—Å—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.
        *   **–ë–ª–æ–∫ "–¢—Ä–µ–±—É–µ–º—ã–µ –ö–≤–µ—Å—Ç—ã":**
            *   –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –¥–≤—É–º—è —Å–ø–∏—Å–∫–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω—ã.
        *   **–ö–Ω–æ–ø–∫–∞:** `[ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è ]`.

---

–≠—Ç–∞ –≤–µ—Ä—Å–∏—è –¢–ó —Ä–µ—à–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –±–∏–∑–Ω–µ—Å–∞ –ø–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—é –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ ‚Äî **—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π**. –ú—ã —Å–æ–∑–¥–∞–µ–º –Ω–µ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç, –∞ **–≥–∏–±–∫—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É**, –∫–æ—Ç–æ—Ä—É—é Gerus Labs —Å–º–æ–∂–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å, –¥–æ–±–∞–≤–ª—è—è –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω, —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –∏ —Ç–∏–ø–æ–≤ –≤–∏–∑.
--- END FILE: tz.md ---
